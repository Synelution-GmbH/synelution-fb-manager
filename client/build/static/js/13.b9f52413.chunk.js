(this["webpackJsonpsynelution-fb-manager"]=this["webpackJsonpsynelution-fb-manager"]||[]).push([[13],{533:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(31),r=a.n(n),c=a(57),i=a(67),o=a(514),l=a(156),s=a(0),u=a.n(s),m=a(753),d=a(509),p=a(515),b=a(534),f=function(e){var t=[new window.ClipboardItem(Object(l.a)({},e.type,e))];return navigator.clipboard.write(t)},g=function(e){var t=e.src;return new Promise((function(e,a){var n=document.createElement("canvas"),r=n.getContext("2d"),c=new Image;c.onload=function(){n.height=c.height,n.width=c.width,r.drawImage(c,0,0);t.replace(/\.\w{1,}$/g,".png");n.toBlob((function(t){e(t)}),"image/png",1)},c.src=t}))},v=function(e){var t=e.value,a=e.type,n=Object(o.a)(e,["value","type"]),l=Object(s.useState)(!1),v=Object(i.a)(l,2),h=v[0],O=v[1],j=function(){var e=Object(c.a)(r.a.mark((function e(a){var n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.stopPropagation(),e.next=3,Object(b.a)();case 3:if(e.prev=3,-1===t.search(/\.(gif|jpe?g|bmp)$/g)){e.next=12;break}return e.next=7,g({src:t});case 7:return n=e.sent,e.next=10,f(n);case 10:e.next=25;break;case 12:if(-1===t.search(/\.(png)$/g)){e.next=23;break}return e.next=15,fetch(t);case 15:return c=e.sent,e.next=18,c.blob();case 18:return i=e.sent,e.next=21,f(i);case 21:e.next=25;break;case 23:return e.next=25,navigator.clipboard.writeText(t);case 25:O(!0),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(3),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[3,28]])})));return function(t){return e.apply(this,arguments)}}();switch(Object(s.useEffect)((function(){h&&setTimeout((function(){O(!1)}),1e3)}),[h]),a){case"icon":return u.a.createElement(m.a,{title:h?"Copied":"Copy",placement:"top"},u.a.createElement(d.a,Object.assign({variant:"contained"},n,{color:"primary",onClick:j,size:"medium",style:{padding:"10px",fontSize:"inherit",minWidth:"auto"}}),u.a.createElement(p.a,{icon:"copy"})));default:return u.a.createElement(d.a,Object.assign({variant:"contained"},n,{color:"primary",onClick:j,size:"medium",style:{padding:"8px 16px"},endIcon:u.a.createElement(p.a,{icon:"copy",style:{marginLeft:"8px"}})}),h?"Copied":"Copy")}}},534:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(31),r=a.n(n),c=a(57),i=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.permissions.query({name:"clipboard-write",allowWithoutGesture:!1});case 3:return t=e.sent,a=t.state,e.abrupt("return","granted"===a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},561:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(67),r=a(514),c=a(0),i=a.n(c),o=a(687),l=a(732),s=a(503),u=a(506),m=a(507),d=a(745),p=a(508),b=a(509),f=a(515),g=Object(o.a)((function(e){return{button:{color:e.palette.error.main,"&:hover":{backgroundColor:"rgba(244, 67, 54, 0.04)"}}}})),v=function(e){var t=e.onClick,a=void 0===t?function(){}:t,o=e.text,v=void 0===o?"":o,h=Object(r.a)(e,["onClick","text"]),O=Object(c.useState)(!1),j=Object(n.a)(O,2),E=j[0],y=j[1],x=g(),C=function(){return y(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,Object.assign({},h,{onClick:function(){return y(!0)},variant:"rounded","aria-label":"delete",className:x.button,color:"secondary"}),i.a.createElement(f.a,{icon:"trash-alt"})),i.a.createElement(s.a,{open:E,onClose:C,"aira-labelledby":"create-client-dialog"},i.a.createElement(u.a,null,"Are you sure?"),i.a.createElement(m.a,null,v?i.a.createElement(d.a,null,v):null),i.a.createElement(p.a,null,i.a.createElement(b.a,{onClick:C},"NO D:"),i.a.createElement(b.a,{startIcon:i.a.createElement(f.a,{icon:"trash-alt",style:{fontSize:"100%"}}),color:"primary",className:x.button,onClick:function(){a(),C()}},"Yes"))))}},627:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),i=(a(8),a(6)),o=a(14),l=a(482),s=a(574),u=a(33),m=a(535),d=a(21),p="undefined"===typeof window?c.useEffect:c.useLayoutEffect,b=c.forwardRef((function(e,t){var a=e.alignItems,o=void 0===a?"center":a,b=e.autoFocus,f=void 0!==b&&b,g=e.button,v=void 0!==g&&g,h=e.children,O=e.classes,j=e.className,E=e.component,y=e.ContainerComponent,x=void 0===y?"li":y,C=e.ContainerProps,k=(C=void 0===C?{}:C).className,w=Object(r.a)(C,["className"]),N=e.dense,S=void 0!==N&&N,I=e.disabled,L=void 0!==I&&I,T=e.disableGutters,A=void 0!==T&&T,F=e.divider,P=void 0!==F&&F,R=e.focusVisibleClassName,W=e.selected,z=void 0!==W&&W,B=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),D=c.useContext(m.a),M={dense:S||D.dense||!1,alignItems:o},$=c.useRef(null);p((function(){f&&$.current&&$.current.focus()}),[f]);var Q=c.Children.toArray(h),V=Q.length&&Object(s.a)(Q[Q.length-1],["ListItemSecondaryAction"]),G=c.useCallback((function(e){$.current=d.findDOMNode(e)}),[]),J=Object(u.a)(G,t),Y=Object(n.a)({className:Object(i.a)(O.root,j,M.dense&&O.dense,!A&&O.gutters,P&&O.divider,L&&O.disabled,v&&O.button,"center"!==o&&O.alignItemsFlexStart,V&&O.secondaryAction,z&&O.selected),disabled:L},B),q=E||"li";return v&&(Y.component=E||"div",Y.focusVisibleClassName=Object(i.a)(O.focusVisible,R),q=l.a),V?(q=Y.component||E?q:"div","li"===x&&("li"===q?q="div":"li"===Y.component&&(Y.component="div")),c.createElement(m.a.Provider,{value:M},c.createElement(x,Object(n.a)({className:Object(i.a)(O.container,k),ref:J},w),c.createElement(q,Y,Q),Q.pop()))):c.createElement(m.a.Provider,{value:M},c.createElement(q,Object(n.a)({ref:J},Y),Q))}));t.a=Object(o.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(b)},628:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),i=(a(8),a(6)),o=a(14),l=a(479),s=a(535),u=c.forwardRef((function(e,t){var a=e.children,o=e.classes,u=e.className,m=e.disableTypography,d=void 0!==m&&m,p=e.inset,b=void 0!==p&&p,f=e.primary,g=e.primaryTypographyProps,v=e.secondary,h=e.secondaryTypographyProps,O=Object(r.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),j=c.useContext(s.a).dense,E=null!=f?f:a;null==E||E.type===l.a||d||(E=c.createElement(l.a,Object(n.a)({variant:j?"body2":"body1",className:o.primary,component:"span",display:"block"},g),E));var y=v;return null==y||y.type===l.a||d||(y=c.createElement(l.a,Object(n.a)({variant:"body2",className:o.secondary,color:"textSecondary",display:"block"},h),y)),c.createElement("div",Object(n.a)({className:Object(i.a)(o.root,u,j&&o.dense,b&&o.inset,E&&y&&o.multiline),ref:t},O),E,y)}));t.a=Object(o.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(u)},708:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),i=(a(8),a(6)),o=a(14),l=a(535),s=c.forwardRef((function(e,t){var a=e.classes,o=e.className,s=Object(r.a)(e,["classes","className"]),u=c.useContext(l.a);return c.createElement("div",Object(n.a)({className:Object(i.a)(a.root,o,"flex-start"===u.alignItems&&a.alignItemsFlexStart),ref:t},s))}));t.a=Object(o.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(s)},709:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),i=(a(8),a(6)),o=a(14),l=c.forwardRef((function(e,t){var a=e.classes,o=e.className,l=Object(r.a)(e,["classes","className"]);return c.createElement("div",Object(n.a)({className:Object(i.a)(a.root,o),ref:t},l))}));l.muiName="ListItemSecondaryAction",t.a=Object(o.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(l)},710:function(e,t,a){"use strict";var n=a(1),r=a(4),c=a(0),i=(a(8),a(6)),o=a(14),l=a(43),s=c.forwardRef((function(e,t){var a=e.absolute,o=void 0!==a&&a,l=e.classes,s=e.className,u=e.component,m=void 0===u?"hr":u,d=e.flexItem,p=void 0!==d&&d,b=e.light,f=void 0!==b&&b,g=e.orientation,v=void 0===g?"horizontal":g,h=e.role,O=void 0===h?"hr"!==m?"separator":void 0:h,j=e.variant,E=void 0===j?"fullWidth":j,y=Object(r.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return c.createElement(m,Object(n.a)({className:Object(i.a)(l.root,s,"fullWidth"!==E&&l[E],o&&l.absolute,p&&l.flexItem,f&&l.light,"vertical"===v&&l.vertical),role:O,ref:t},y))}));t.a=Object(o.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(l.c)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(s)},751:function(e,t,a){"use strict";a.r(t);var n=a(156),r=a(40),c=a(67),i=a(31),o=a.n(i),l=a(57),s=a(687),u=a(746),m=a(475),d=a(480),p=a(479),b=a(735),f=a(744),g=a(752),v=a(748),h=a(1),O=a(4),j=a(0),E=a.n(j),y=(a(8),a(6)),x=a(14),C=j.forwardRef((function(e,t){var a=e.disableSpacing,n=void 0!==a&&a,r=e.classes,c=e.className,i=Object(O.a)(e,["disableSpacing","classes","className"]);return j.createElement("div",Object(h.a)({className:Object(y.a)(r.root,c,!n&&r.spacing),ref:t},i))})),k=Object(x.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(C),w=a(509),N=a(575),S=a(524),I=a(17),L=a(520),T=a(514),A=a(477),F=a(743),P=a(710),R=a(627),W=a(708),z=a(628),B=a(709),D=a(732),M=a(561),$=a(533),Q=a(515),V=a(503),G=a(506),J=a(507),Y=a(508),q=function(e){var t=e.open,a=e.setOpen,i=e.onSubmit,s=e.initialState,u=Object(j.useState)(s),m=Object(c.a)(u,2),d=m[0],p=m[1],b=function(e){var t=e.target,a=t.name,c=t.value;p(Object(r.a)(Object(r.a)({},d),{},Object(n.a)({},a,c)))},f=function(){return a(!1)},g=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(d);case 2:e.sent&&p(s);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E.a.createElement(V.a,{open:t,onClose:f,onBackdropClick:function(e){console.log(e),e.preventDefault()}},E.a.createElement(G.a,null,"Please Add the contact data for the Code"),E.a.createElement(J.a,null,E.a.createElement(v.a,{value:d.name,onChange:b,label:"Name",fullWidth:!0,margin:"dense",focused:!0,autoFocus:!0,name:"name"}),E.a.createElement(v.a,{value:d.email,onChange:b,label:"Email",fullWidth:!0,margin:"dense",name:"email"})),E.a.createElement(Y.a,null,E.a.createElement(w.a,{color:"primary",onClick:f},"Cancel"),E.a.createElement(w.a,{disabled:!d.name||!d.email,color:"primary",onClick:g},"Save")))},H=function(e){e.onSubmit;var t=e.slug,a=Object(S.d)(),n=Object(j.useState)(!1),r=Object(c.a)(n,2),i=r[0],s=r[1],u=Object(j.useState)(!1),m=Object(c.a)(u,2),p=(m[0],m[1]),b=function(){var e=Object(l.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.email&&n.name){e.next=2;break}return e.abrupt("return");case 2:return p(!0),e.prev=3,e.next=6,Object(L.i)({slug:t,data:n});case 6:return e.sent,a.invalidateQueries(["clients",{slug:t}]),p(!1),s(!1),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(3),console.log(e.t0),p(!1),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return E.a.createElement(E.a.Fragment,null,E.a.createElement(d.a,{mt:2},E.a.createElement(w.a,{color:"primary",variant:"contained",size:"large",onClick:function(){return s(!0)},startIcon:E.a.createElement(Q.a,{icon:"plus",style:{fontSize:"100%"}})},"Add Code")),E.a.createElement(q,{open:i,setOpen:s,onSubmit:b,initialState:{name:"",email:""}}))},K=a(548),U=function(e){var t=e.slug,a=e.codes;return E.a.createElement(E.a.Fragment,null,a&&a.length>0?E.a.createElement(A.a,null,E.a.createElement(F.a,{dense:!0},a.map((function(e,n){var r=e.code,c=Object(T.a)(e,["code"]);return E.a.createElement(E.a.Fragment,{key:r},E.a.createElement(X,Object.assign({},c,{code:r,slug:t})),n+1!==a.length?E.a.createElement(P.a,null):null)})))):null,E.a.createElement(H,{addCode:function(){},slug:t}))},X=function(e){var t=e.name,a=e.email,n=e.code,r=e.slug,i=Object(S.d)(),s=Object(j.useState)(!1),u=Object(c.a)(s,2),m=u[0],d=u[1],p=Object(j.useState)(!1),b=Object(c.a)(p,2),f=(b[0],b[1]),g=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email&&t.name){e.next=2;break}return e.abrupt("return");case 2:return f(!0),e.prev=3,e.next=6,Object(K.h)({slug:r,code:n,data:t});case 6:return i.invalidateQueries(["clients",{slug:r}]),f(!1),d(!1),e.abrupt("return",!1);case 12:return e.prev=12,e.t0=e.catch(3),console.log(e.t0),f(!1),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return E.a.createElement(R.a,null,E.a.createElement(W.a,null,E.a.createElement("span",null,n)),E.a.createElement(z.a,{primary:t,secondary:a}),E.a.createElement(B.a,null,E.a.createElement($.a,{value:n,variant:"text"}),E.a.createElement(D.a,{onClick:function(){return d(!0)}},E.a.createElement(Q.a,{icon:"pen",style:{fontSize:"80%"}})),E.a.createElement(q,{initialState:{email:a,name:t},open:m,setOpen:d,onSubmit:g}),E.a.createElement(M.a,{onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.b)({slug:r,code:n});case 2:i.invalidateQueries(["clients",{slug:r}]);case 3:case"end":return e.stop()}}),e)})))})))},Z=Object(s.a)((function(e){return{avatar:{width:"50px",height:"50px",marginRight:e.spacing(1.5)},input:{marginBottom:e.spacing(1)}}})),_=function(e){var t=e.name,a=e.facebookName,i=void 0===a?"":a,s=e.slug,u=e.profilePicture,h=e.classes,O=Object(j.useState)({name:t,facebookName:i}),y=Object(c.a)(O,2),x=y[0],C=y[1],N=Object(S.d)(),I=function(e){var t=e.target,a=t.name,c=t.value;C(Object(r.a)(Object(r.a)({},x),{},Object(n.a)({},a,c)))},T=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(L.j)({slug:s,data:x});case 3:N.invalidateQueries(["clients",{slug:s}]),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return E.a.createElement(b.a,null,E.a.createElement(f.a,null,E.a.createElement(m.a,{container:!0},E.a.createElement(m.a,{container:!0,alignItems:"center"},E.a.createElement(g.a,{className:h.avatar,alt:"",src:u}),E.a.createElement(p.a,{variant:"h5"},x.name)),E.a.createElement(d.a,{mt:2,width:"100%"},E.a.createElement(v.a,{className:h.input,fullWidth:!0,label:"Name",name:"name",value:x.name,onChange:I}),E.a.createElement(v.a,{className:h.input,fullWidth:!0,label:"Facebook Name",name:"facebookName",value:x.facebookName,onChange:I})))),E.a.createElement(k,{style:{justifyContent:"flex-end"}},E.a.createElement(w.a,{onClick:T},"Save")))};t.default=function(){var e=Z(),t=Object(I.h)().slug,a=Object(S.c)(["clients",{slug:t}],Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L.e)({slug:t}));case 1:case"end":return e.stop()}}),e)})))),n=a.isLoading,r=a.data,c=Object(S.d)(),i=Object(j.useMemo)((function(){return n?c.getQueryData("clients")?c.getQueryData("clients").find((function(e){return e.slug===t})):null:r}),[n,r]);return i?E.a.createElement(E.a.Fragment,null,E.a.createElement(N.a,null,E.a.createElement("title",null,"Edit Client")),E.a.createElement(u.a,{maxWidth:"md"},E.a.createElement(m.a,{container:!0,spacing:2},E.a.createElement(m.a,{item:!0,md:5},E.a.createElement(_,Object.assign({classes:e},i))),E.a.createElement(m.a,{item:!0,md:12},E.a.createElement(d.a,{mb:2},E.a.createElement(p.a,{variant:"h5"},"Access Codes")),E.a.createElement(U,i))))):null}}}]);
//# sourceMappingURL=13.b9f52413.chunk.js.map