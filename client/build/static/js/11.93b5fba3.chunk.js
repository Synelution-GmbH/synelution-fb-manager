(this["webpackJsonpsynelution-fb-manager"]=this["webpackJsonpsynelution-fb-manager"]||[]).push([[11],{151:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(14),r=n.n(a),c=n(20),i=n(31),o=n(120),l=n(0),u=n.n(l),s=n(317),m=n(118),d=n(152),p=function(e){var t=e.value,n=Object(o.a)(e,["value"]),a=Object(l.useState)(!1),p=Object(i.a)(a,2),f=p[0],b=p[1],g=function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),e.next=3,Object(d.a)();case 3:return e.prev=3,e.next=6,navigator.clipboard.writeText(t);case 6:b(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){f&&setTimeout((function(){b(!1)}),1e3)}),[f]),u.a.createElement(s.a,Object.assign({},n,{color:"primary",onClick:g,variant:"contained",size:"medium",style:{padding:"8px 16px"},endIcon:u.a.createElement(m.a,{icon:"copy",style:{marginLeft:"8px"}})}),f?"Copied":"Copy")}},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(14),r=n.n(a),c=n(20),i=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.permissions.query({name:"clipboard-write"});case 3:return t=e.sent,n=t.state,e.abrupt("return","granted"===n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(31),r=n(0),c=n.n(r),i=n(351),o=n(347);function l(e){return c.a.createElement(o.a,Object.assign({elevation:6,variant:"filled"},e))}var u=function(e){var t=e.text,n=e.toggle,o=e.severity,u=void 0===o?"error":o,s=e.autoHideDuration,m=void 0===s?3e4:s,d=Object(r.useState)(!1),p=Object(a.a)(d,2),f=p[0],b=p[1];Object(r.useEffect)((function(){t&&b(!0)}),[n]);var g=function(){return b(!1)};return c.a.createElement(i.a,{open:f,autoHideDuration:m,onClose:g},c.a.createElement(l,{onClose:g,severity:u},t))}},177:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var a=n(23),r=n.n(a),c=function(e){return r.a.post("/client-link",e).then((function(e){return e.data}))},i=function(e){return r.a.get("/client-link/".concat(e)).then((function(e){return e.data}))}},178:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a=n(31),r=n(0),c=n.n(r),i=n(179),o=n(240),l=n(137),u=n(61),s=n(318),m=n(325),d=n(99),p=n(342),f=n(352),b=n(299),g=n(322),v=n(120),E=(n(231),n(232)),j=n(237),h=n(101),O=n(329),x=n(118),y=Object(s.a)((function(e){return{avatar:{overflow:"visible"},picker:function(t){var n=t.open;return{top:"100%",position:"absolute",opacity:n?1:0,visibility:n?"visible":"hidden","& .emoji-mart":{boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)!important",border:"none",padding:e.spacing(1)},"& .emoji-mart-anchor":{cursor:"pointer"}}}}})),k=function(e){var t=e.onSelect,n=e.className,i=Object(v.a)(e,["onSelect","className"]),o=Object(r.useState)(),l=Object(a.a)(o,2),u=l[0],s=l[1],m=y({open:u});return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,Object.assign({},i,{className:m.avatar+" "+n,variant:"rounded",onClick:function(){return s(!u)}}),c.a.createElement(x.a,{icon:"smile"})),c.a.createElement(h.a,{className:m.picker},c.a.createElement(O.a,{in:u,style:{transformOrigin:"0 0 0"}},c.a.createElement(j.a,{notFoundEmoji:"sob",title:"Emojies",set:"facebook",data:E,onSelect:function(e){t(e.native),s(!1)}}))))},S=n(151),w=Object(u.a)(l.a)((function(e){return{padding:e.theme.spacing(2)}})),C=Object(s.a)((function(e){return{root:{height:"100%",overflow:"visible","& .MuiAvatar-root.tool":{backgroundColor:e.palette.primary.main,transition:"0.3s","&:hover":{backgroundColor:e.palette.primary.dark}},"& .emoji-picker":{cursor:"pointer"},"::spelling-error":{color:"red"},"& .editor":{flexGrow:1}},toolbar:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px"),zIndex:20,backgroundColor:e.palette.grey[100],width:"100%"}}})),N=function(e){var t=e.onChange,n=e.toolbar,a=e.children,i=e.serializedValue,o=e.value,u=e.editor,s=e.style,v=void 0===s?null:s,E=e.disabled,j=void 0!==E&&E,h=C(),O=Object(r.useRef)({focus:{offset:0,path:[0,0]},anchor:{offset:0,path:[0,0]}});return c.a.createElement(m.a,{className:h.root,style:v},c.a.createElement(d.a,{container:!0,direction:"column",alignItems:"stretch",style:{height:"100%"}},c.a.createElement(l.c,{editor:u,value:o,onChange:t},c.a.createElement(w,{readOnly:j,spellCheck:!0,className:"editor",placeholder:"Beginn typing !!",onBlur:function(){return O.current=u.selection}})),n?c.a.createElement(p.a,{className:h.toolbar,variant:"dense",p:1},c.a.createElement(d.a,{container:!0,justify:"space-between",alignItems:"center"},c.a.createElement(d.a,{item:!0,sm:4},c.a.createElement(d.a,{container:!0,justify:"flex-start"},c.a.createElement(k,{className:"emoji-picker tool",onSelect:function(e){u.selection||(u.selection=O.current),u.insertText(e)}}))),c.a.createElement(d.a,{item:!0,sm:8},c.a.createElement(d.a,{container:!0,justify:"flex-end"},a,c.a.createElement(S.a,{value:i}),c.a.createElement(f.a,{title:"character count",placement:"bottom"},c.a.createElement(b.a,{variant:"rounded",color:"primary",className:"tool",style:{marginLeft:"8px"}},c.a.createElement(g.a,null,i.length))))))):null))};N.defaultProps={toolbar:!0};var z=[{type:"paragraph",children:[{text:""}]}],F=function(e){return e.map((function(e){return i.c.string(e)})).join("\n")},R=function(e){return e.split("\n").map((function(e){return{children:[{text:e}]}}))},B=function(e){e.id;var t=e.content,n=void 0===t?null:t,u=e.editorRef,s=e.children,m=e.onSave,d=void 0===m?function(){}:m,p=e.editorProps,f=void 0===p?{}:p,b=e.disabled,g=void 0!==b&&b,v=e.saveDelay,E=void 0===v?1e3:v,j=Object(r.useState)(n?R(n):z),h=Object(a.a)(j,2),O=h[0],x=h[1],y=Object(r.useRef)(),k=Object(r.useMemo)((function(){return Object(o.a)(Object(l.d)(Object(i.i)()))}),[]);Object(r.useEffect)((function(){u&&(u.current=k)}),[]),Object(r.useEffect)((function(){if(!n)return x(z);x(R(n))}),[n]);var S=F(O);return c.a.createElement(N,Object.assign({},f,{editor:k,value:O,disabled:g,serializedValue:S,onChange:function(e){clearTimeout(y.current),y.current=setTimeout((function(){console.log("save"),d({value:e,serializedValue:F(e)})}),E),x(e)}}),s)}},258:function(e,t,n){"use strict";n.r(t);var a=n(120),r=n(0),c=n.n(r),i=n(134),o=n(3),l=n(46),u=n(177),s=n(341),m=n(99),d=n(31),p=n(61),f=n(325),b=n(326),g=n(318),v=n(299),E=n(322),j=n(317),h=n(150),O=n.n(h),x=n(118),y=n(178),k=n(129),S=n(137),w=n(153),C=n(353),N=n(332),z=n(333),F=n(1),R=(n(5),n(17)),B=r.forwardRef((function(e,t){return r.createElement(E.a,Object(F.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),H=Object(R.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(B),I=n(345),M=n(337),P=n(100),T=Object(g.a)((function(e){return{buttonProgress:{color:e.palette.success.main,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),U=function(e){var t=e.id,n=e.onSave,i=void 0===n?function(){}:n,o=Object(a.a)(e,["id","onSave"]),l=T(),u=Object(k.b)(),s=Object(r.useState)(!1),m=Object(d.a)(s,2),p=m[0],f=m[1],b=Object(r.useState)(),g=Object(d.a)(b,2),v=g[0],E=g[1],h=Object(r.useState)(),O=Object(d.a)(h,2),x=O[0],y=O[1],S=function(){return f(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,Object.assign({},o,{onClick:function(){return f(!0)}}),o.children),c.a.createElement(C.a,{open:p,onClose:S},c.a.createElement(N.a,null,"Bild Korrekturen"),c.a.createElement(z.a,null,c.a.createElement(H,null,"Bitte beschreiben Sie Ihre \xc4nderungsw\xfcnsche zur Abbildung im unten angezeigten Textfeld."),c.a.createElement(I.a,{value:v,onChange:function(e){return E(e.target.value)},label:"\xc4nderungsw\xfcnsche",multiline:!0,rows:3,fullWidth:!0,margin:"dense",variant:"outlined",focused:!0,autoFocus:!0})),c.a.createElement(M.a,null,c.a.createElement(j.a,{onClick:S},"Abbrechen"),c.a.createElement(j.a,{disabled:x||!v,variant:"contained",color:"primary",onClick:function(){v&&(y(!0),u.emit("client change",{id:t,imageChanges:{text:v}},(function(e){E(""),S(),i(),y(!1)})))}},"Speichern",x?c.a.createElement(P.a,{className:l.buttonProgress,size:24}):null))))},D=Object(g.a)((function(e){return{button:function(t){return t.success?{backgroundColor:e.palette.success.main,"&:hover":{backgroundColor:e.palette.success.dark}}:null},buttonProgress:{color:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Q=function(e){var t=e.approved,n=e.id,a=e.QUERY,o=Object(i.c)(),l=Object(k.b)(),u=Object(r.useState)(),s=Object(d.a)(u,2),m=s[0],p=s[1],f=D({success:t});return Object(r.useEffect)((function(){p(!1)}),[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{variant:"contained",className:f.button,startIcon:c.a.createElement(x.a,{icon:"check-circle"}),disabled:m,onClick:function(){p(!0),l.emit("client change",{id:n,approved:!t},(function(e){o.invalidateQueries(a)}))}},t?"Freigegeben":"Freigeben",m?c.a.createElement(P.a,{className:f.buttonProgress,size:24}):null))},A=Object(p.a)(f.a)({borderRadius:"max(0px, min(8px, calc((100vw - 4px - 100%) * 9999))) / 8px",margin:"0 8px 16px",fontFamily:"Helvetica",boxShadow:"0 1px 2px rgba(0,0,0,0.2)",fontSize:"16px","-webkitFontSmoothing":"antialiased",maxWidth:"500px"}),L=Object(p.a)(b.a)({padding:"12px 16px 12px"}),Y=Object(g.a)((function(e){return{title:{fontWeight:600,fontSize:".9375em",fontFamily:"Segoe UI, Helvetica, Arial, sans-serif",lineHeight:1.3333},date:{lineHeight:1.2308,fontFamily:"Segoe UI, Helvetica, Arial, sans-serif",fontSize:".8125em",color:"#65676b"},text:{fontFamily:"Segoe UI, Helvetica, Arial, sans-serif",fontSize:".9375em",lineHeight:1.34,whiteSpace:"pre-wrap",wordBreak:"break-word",fontWeight:400,color:"#050505",unicodeBidi:"-webkit-isolate"},asset:{width:"100%"}}})),K=function(e){var t=e.QUERY,n=e.date,a=e.approved,i=e.asset,o=e.id,l=e.content,u=e.client,s=Y(),p=Object(r.useRef)(),f=Object(k.b)(),b=Object(r.useMemo)((function(){return O()(n).format("D. MMMM")}),[n]),g=Object(r.useState)(null),h=Object(d.a)(g,2),C=h[0],N=h[1],z=Object(r.useState)(!1),F=Object(d.a)(z,2),R=F[0],B=F[1],H=Object(r.useState)({toggle:!1,text:""}),I=Object(d.a)(H,2),M=I[0],P=I[1];return Object(r.useEffect)((function(){p.current&&R&&S.b.focus(p.current)}),[R]),c.a.createElement(A,null,c.a.createElement(L,null,c.a.createElement(m.a,{container:!0,wrap:"nowrap"},c.a.createElement(v.a,{src:u.profilePicture,alt:""}),c.a.createElement("div",{style:{flexGrow:1,paddingLeft:"6px",marginBottom:"8px"}},c.a.createElement(E.a,{className:s.title,variant:"h6"},u.facebookName),c.a.createElement(E.a,{className:s.date,variant:"caption"},b," \xb7 ",c.a.createElement(x.a,{icon:"globe-americas"}))))),c.a.createElement("div",{variant:"div",className:s.text},c.a.createElement(y.a,{editorRef:p,disabled:!R,content:l,saveDelay:300,editorProps:{toolbar:!1,style:{margin:"-28px -4px -8px",boxShadow:"none"}},onSave:function(e){var t=e.serializedValue;N(t)},id:o})),i.image?c.a.createElement("img",{className:s.asset,src:i.path}):c.a.createElement("video",{className:s.asset,src:i.path}),c.a.createElement(L,null,c.a.createElement(m.a,{container:!0,justify:"space-between"},c.a.createElement(Q,{approved:a,id:o,QUERY:t}),c.a.createElement(m.a,{item:!0},c.a.createElement(U,{id:o,style:{marginRight:"8px"},color:"primary",onSave:function(){P({toggle:!M.toggle,text:"Bild Korrektur wurde gespeichert!",severity:"success"})}},"Bild Korrekturen"),c.a.createElement(j.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(x.a,{style:{fontSize:"100%"},icon:R?"check-circle":"pen"}),disabled:R&&!C,onClick:function(){R&&C&&(f.emit("client change",{id:o,content:C,clientCorrected:!0}),P({toggle:!M.toggle,text:"Korrektur wurde gespeichert!",severity:"success"}),N(null)),B(!R)}},R?"Speichern":"Korrigieren")))),c.a.createElement(w.a,Object.assign({autoHideDuration:15e3},M)))},W=function(e){var t=e.posts,n=e.client,r=e.QUERY;return c.a.createElement(s.a,{maxWidth:"lg"},c.a.createElement(m.a,{container:!0,justify:"center"},t.map((function(e){var t=e._id,i=Object(a.a)(e,["_id"]);return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement(K,Object.assign({},i,{QUERY:r,id:t,client:n})),c.a.createElement("br",null))}))))};t.default=function(){var e=Object(o.h)().id,t=Object(r.useMemo)((function(){return["client-link",{id:e}]}),[e]),n=Object(i.b)(t,(function(){return Object(u.a)(e)})),a=n.isLoading,s=(n.error,n.data);return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{loading:a}),s?c.a.createElement(W,{QUERY:t,client:s.client,posts:s.posts}):null)}}}]);
//# sourceMappingURL=11.93b5fba3.chunk.js.map