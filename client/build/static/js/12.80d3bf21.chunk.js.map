{"version":3,"sources":["ui/components/AssetUploader/AssetUploaderContext.jsx","pages/ClientView/Post/Asset.jsx","ui/components/Editor/CopyToClipboard.jsx","ui/components/Editor/helper.js","ui/components/Editor/Drag.jsx","ui/components/Editor/EmojiPicker.jsx","ui/components/Editor/index.jsx","ui/components/EditorClient/EditorIE.jsx","ui/components/EditorClient/index.jsx","ui/components/AssetUploader/Video.jsx","pages/Posts/MessageBox.jsx","pages/ClientView/Post/InstagramView.jsx","pages/ClientView/Post/SliderButton.jsx","pages/ClientView/Post/Carousel.jsx","pages/ClientView/Post/Gallery.jsx","pages/ClientView/Post/AssetPicker.jsx","pages/ClientView/Post/FacebookView.jsx","pages/ClientView/ChangeImageBtn.jsx","pages/ClientView/FreigebenBtn.jsx","pages/ClientView/Post/index.jsx","pages/ClientView/AskCode.jsx","pages/ClientView/index.jsx"],"names":["initialState","assetOrder","assets","AssetUploaderContext","createContext","AssetUploaderDispatchContext","useAssetUploader","useContext","useAssetUploaderDispatch","reducer","state","action","type","payload","previewIndex","indexOf","mapToObject","asset","id","name","loading","filename","replace","payloadId","newAssets","newAssetOrder","Array","from","assetOrderIndex","findIndex","splice","AssetUploaderProvider","children","handleDragEnd","useReducer","dispatch","Provider","value","onDragEnd","result","destination","source","draggableId","droppableId","index","Asset","className","smallImg","props","path","image","src","thumb","alt","containerStyles","position","marginBottom","setToClipboard","blob","data","window","ClipboardItem","navigator","clipboard","write","getPngBlob","Promise","resolve","reject","c","document","createElement","ctx","getContext","img","Image","onload","height","width","drawImage","toBlob","CopyToClipboard","useState","copied","setCopied","saveToClipboard","e","a","stopPropagation","askClipboardPermissions","search","fetch","res","writeText","console","log","useEffect","setTimeout","title","placement","variant","color","onClick","size","style","padding","fontSize","minWidth","icon","endIcon","marginLeft","permissions","query","allowWithoutGesture","Drag","useSpring","xy","set","ref","useRef","xOffset","yOffset","elRef","dragStart","current","initialX","clientX","initialY","clientY","active","body","cursor","pointerEvents","dragEnd","currentX","currentY","drag","preventDefault","addEventListener","removeEventListener","div","willChange","transform","interpolate","x","y","setTransform","useStyles","makeStyles","theme","avatar","overflow","closePicker","top","left","justifyContent","backgroundColor","palette","primary","main","borderBottomRightRadius","borderTopRightRadius","display","transition","dark","picker","open","opacity","visibility","zIndex","boxShadow","border","spacing","EmojiePicker","React","memo","onSelect","renderPicker","setOpen","classes","Avatar","transformOrigin","Tooltip","Picker","notFoundEmoji","emoji","native","EDITABLE","styled","Editable","root","flexGrow","toolbar","grey","Editor","onChange","serializedValue","editor","disabled","useInView","inView","selection","focus","offset","anchor","useCallback","text","insertText","Card","Grid","container","direction","alignItems","readOnly","spellCheck","placeholder","onBlur","Toolbar","p","justify","item","Typography","length","defaultProps","EditorIE","content","editorRef","onSave","editorProps","saveDelay","setValue","saveTimeout","TextareaAutosize","tag","target","clearTimeout","defaultValue","serialize","nodes","map","n","Node","string","join","deserialize","split","line","EditorClient","useMemo","withHistory","withReact","createEditor","serialized","operations","video","objectFit","button","videoContainer","background","Video","playing","setPlaying","pause","play","loop","Alert","elevation","MessageBox","toggle","severity","autoHideDuration","handleClose","onClose","fontFamily","card","borderRadius","margin","maxWidth","cardContent","iconContainer","fontWeight","lineHeight","whiteSpace","wordBreak","unicodeBidi","profile","AssetPicker","InstagramView","client","editorComponent","likes","Math","floor","random","wrap","profilePicture","paddingLeft","slug","prefix","borderBottom","buttonContainer","right","exitButton","ExitButton","SliderButton","SwiperCore","use","Navigation","gallery","galleryWrapper","flexWrap","slider","slide","maxHeight","userSelect","link","textDecoration","slideContent","boxSizing","flexFlow","lineClamp","sliderButton","AssetCarousel","assetsM","swiper","isStart","setIsStart","isEnd","setIsEnd","speed","slidesPerView","setWrapperSize","simulateTouch","onSwiper","newSwiper","isBeginning","i","href","rel","key","slidePrev","slideNext","Slide","slideRef","isIE","webkitLineClamp","querySelector","paddingRight","paddingTop","overlay","Gallery","sliderIndex","setSliderIndex","useObjectFitPolyfill","indexNext","getNewSlideIndex","indexPrev","images","preloadImages","numSlides","increment","slideChange","newIndex","smallerImg","xs","data-object-fit","Modal","disableAutoFocus","filter","isJob","date","FacebookView","dateFormatted","user","useAuth","salary","employmentType","CardContent","marginRight","CardHeader","facebookName","align-items","role","budget","budgetIG","buttonProgress","success","marginTop","ChangeImageButton","socket","useSocket","setText","setLoading","Button","Dialog","DialogTitle","DialogContent","DialogContentText","TextField","label","multiline","rows","fullWidth","focused","autoFocus","DialogActions","clientName","username","clientEmail","email","emit","imageChanges","CircularProgress","FreigebenBtn","approved","QUERY","cache","useQueryCache","startIcon","invalidateQueries","PostView","Post","dayjs","format","clientText","setClientText","correctionMode","setCorrectionMode","msg","setMsg","IE","ReactEditor","clientCorrected","AskCode","setUser","code","setCode","error","setError","handleSubmit","checkCode","setQueryData","queryData","response","Loader","onBackdropClick","onSubmit","helperText","PostList","posts","Container","alignContent","_id","postProps","hidden","Fragment","ClientView","useParams","useQuery","getLinkById","enabled","isLoading"],"mappings":"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","file":"static/js/12.80d3bf21.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\n\r\nimport { mapToObject } from 'utils';\r\n\r\nconst initialState = { assetOrder: [], assets: {} };\r\nconst AssetUploaderContext = createContext();\r\nconst AssetUploaderDispatchContext = createContext();\r\nexport const useAssetUploader = () => useContext(AssetUploaderContext);\r\nexport const useAssetUploaderDispatch = () =>\r\n  useContext(AssetUploaderDispatchContext);\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'add_assets': {\r\n      const { assetOrder, assets } = action.payload;\r\n      const { previewIndex } = state;\r\n      // check asset order??\r\n      return {\r\n        ...state,\r\n        previewIndex: previewIndex\r\n          ? assetOrder.indexOf(previewIndex) !== -1\r\n            ? previewIndex\r\n            : assetOrder[0]\r\n          : assetOrder[0],\r\n        assetOrder,\r\n        assets: mapToObject(\r\n          assets,\r\n          (asset) => ({\r\n            ...asset,\r\n            id: asset.name,\r\n            loading: false,\r\n          }),\r\n          'name'\r\n        ),\r\n      };\r\n    }\r\n    case 'add_asset':\r\n      const filename = action.payload.name.replace(/[ /#\\\\?%*:;,|\"=§$!'<>]/g, '_');\r\n      const assetOrder =\r\n        state.assetOrder.indexOf(filename) === -1\r\n          ? [...state.assetOrder, filename]\r\n          : state.assetOrder;\r\n      return {\r\n        ...state,\r\n        previewIndex: filename,\r\n        assets: {\r\n          ...state.assets,\r\n          [filename]: {\r\n            id: filename,\r\n            loading: true,\r\n            ...action.payload,\r\n          },\r\n        },\r\n        assetOrder,\r\n      };\r\n\r\n    case 'delete_asset':\r\n      const { name: payloadId } = action.payload;\r\n      const { [payloadId]: deleteThis, ...newAssets } = state.assets;\r\n      const newAssetOrder = Array.from(state.assetOrder);\r\n      const assetOrderIndex = state.assetOrder.findIndex((id) => id === payloadId);\r\n      newAssetOrder.splice(assetOrderIndex, 1);\r\n      return {\r\n        ...state,\r\n        previewIndex:\r\n          state.previewIndex === payloadId ? newAssetOrder[0] : state.previewIndex,\r\n        assetOrder: newAssetOrder,\r\n        assets: newAssets,\r\n      };\r\n    case 'update_text':\r\n      const { name, ...payload } = action.payload;\r\n      return {\r\n        ...state,\r\n        assets: { ...state.assets, [name]: { ...state.assets[name], ...payload } },\r\n      };\r\n    case 'set_payload':\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const AssetUploaderProvider = ({ children, handleDragEnd }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const onDragEnd = (result) => {\r\n    const { destination, source, draggableId, type } = result;\r\n    if (!destination) return;\r\n    if (\r\n      destination.droppableId === source.droppableId &&\r\n      destination.index === source.index\r\n    )\r\n      return;\r\n\r\n    if (type === 'column') {\r\n      const newAssetOrder = Array.from(state.assetOrder);\r\n      newAssetOrder.splice(source.index, 1);\r\n      newAssetOrder.splice(destination.index, 0, draggableId);\r\n      dispatch({ type: 'set_payload', payload: { assetOrder: newAssetOrder } });\r\n      handleDragEnd({ assetOrder: newAssetOrder });\r\n    }\r\n\r\n    // const asset = state.assets[source.droppableId];\r\n  };\r\n  // console.log(state);\r\n  // console.log(state);\r\n  return (\r\n    <>\r\n      <AssetUploaderContext.Provider value={state}>\r\n        <AssetUploaderDispatchContext.Provider value={{ dispatch }}>\r\n          <DragDropContext onDragEnd={onDragEnd}>{children}</DragDropContext>\r\n        </AssetUploaderDispatchContext.Provider>\r\n      </AssetUploaderContext.Provider>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useObjectFitPolyfill } from 'utils';\r\nimport { Video } from 'ui/components/AssetUploader/Video';\r\n\r\n\r\nexport const Asset = ({ asset, className, smallImg, ...props }) => {\r\n  return asset && asset.path ? (\r\n    asset.image ? (\r\n      <img\r\n        {...props}\r\n        className={className}\r\n        src={smallImg ? asset.thumb : asset.path}\r\n        alt=\"\"\r\n      />\r\n    ) : (\r\n      <Video\r\n        className={className}\r\n        containerStyles={{ position: 'relative', marginBottom: '8px' }}\r\n        src={asset.path}\r\n      ></Video>\r\n    )\r\n  ) : null;\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Tooltip } from '@material-ui/core';\r\nimport { AwesomeIcon } from '../Icons/Icon';\r\nimport { askClipboardPermissions } from './helper';\r\n\r\nconst setToClipboard = (blob) => {\r\n  const data = [new window.ClipboardItem({ [blob.type]: blob })];\r\n  return navigator.clipboard.write(data);\r\n};\r\n\r\nconst getPngBlob = ({ src }) =>\r\n  new Promise((resolve, reject) => {\r\n    const c = document.createElement('canvas');\r\n    const ctx = c.getContext('2d');\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      c.height = img.height;\r\n      c.width = img.width;\r\n      ctx.drawImage(img, 0, 0);\r\n      const newName = src.replace(/\\.\\w{1,}$/g, '.png');\r\n      c.toBlob(\r\n        function (blob) {\r\n          resolve(blob);\r\n        },\r\n        'image/png',\r\n        1\r\n      );\r\n    };\r\n    img.src = src;\r\n  });\r\n\r\nexport const CopyToClipboard = ({ value, type, ...props }) => {\r\n  const [copied, setCopied] = useState(false);\r\n  const saveToClipboard = async (e) => {\r\n    e.stopPropagation();\r\n    await askClipboardPermissions();\r\n    try {\r\n      if (value.search(/\\.(gif|jpe?g|bmp)$/g) !== -1) {\r\n        const blob = await getPngBlob({ src: value });\r\n        await setToClipboard(blob);\r\n      } else if (value.search(/\\.(png)$/g) !== -1) {\r\n        const res = await fetch(value);\r\n        const blob = await res.blob();\r\n        await setToClipboard(blob);\r\n      } else {\r\n        await navigator.clipboard.writeText(value);\r\n      }\r\n      setCopied(true);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (copied)\r\n      setTimeout(() => {\r\n        setCopied(false);\r\n      }, 1000);\r\n  }, [copied]);\r\n\r\n  switch (type) {\r\n    case 'icon':\r\n      return (\r\n        <Tooltip title={copied ? 'Copied' : 'Copy'} placement=\"top\">\r\n          <Button\r\n            variant=\"contained\"\r\n            {...props}\r\n            color=\"primary\"\r\n            onClick={saveToClipboard}\r\n            size=\"medium\"\r\n            style={{ padding: '10px', fontSize: 'inherit', minWidth: 'auto' }}\r\n          >\r\n            <AwesomeIcon icon=\"copy\" />\r\n          </Button>\r\n        </Tooltip>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <Button\r\n          variant=\"contained\"\r\n          {...props}\r\n          color=\"primary\"\r\n          onClick={saveToClipboard}\r\n          size=\"medium\"\r\n          style={{ padding: '8px 16px' }}\r\n          endIcon={<AwesomeIcon icon=\"copy\" style={{ marginLeft: '8px' }} />}\r\n        >\r\n          {copied ? 'Copied' : 'Copy'}\r\n        </Button>\r\n      );\r\n  }\r\n};\r\n","export const askClipboardPermissions = async () => {\r\n  try {\r\n    const { state } = await navigator.permissions.query({\r\n      name: 'clipboard-write',\r\n      allowWithoutGesture: false,\r\n    });\r\n    return state === 'granted';\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { useSpring, animated } from 'react-spring';\r\n\r\nexport const Drag = ({ children, ...props }) => {\r\n  const [{ xy }, set] = useSpring(() => ({ xy: [0, 0] }));\r\n\r\n  const ref = useRef({ xOffset: 0, yOffset: 0 });\r\n  const elRef = useRef();\r\n  const dragStart = (e) => {\r\n    ref.current.initialX = e.clientX - ref.current.xOffset;\r\n    ref.current.initialY = e.clientY - ref.current.yOffset;\r\n    ref.current.active = true;\r\n\r\n    document.body.style.cursor = 'grabbing';\r\n    document.body.style.pointerEvents = 'none';\r\n    if (!elRef.current) return;\r\n    elRef.current.style.cursor = 'grabbing';\r\n  };\r\n\r\n  const dragEnd = () => {\r\n    ref.current.initialX = ref.current.currentX;\r\n    ref.current.initialY = ref.current.currentY;\r\n    ref.current.active = false;\r\n    document.body.style.cursor = 'auto';\r\n    document.body.style.pointerEvents = 'all';\r\n    if (!elRef.current) return;\r\n    elRef.current.style.cursor = 'grab';\r\n  };\r\n  const drag = (e) => {\r\n    if (!ref.current.active) return;\r\n\r\n    e.preventDefault();\r\n    // console.log(ref.current);\r\n    // console.log(e.clientX);\r\n    ref.current.currentX = e.clientX - ref.current.initialX;\r\n    ref.current.currentY = e.clientY - ref.current.initialY;\r\n\r\n    ref.current.xOffset = ref.current.currentX;\r\n    ref.current.yOffset = ref.current.currentY;\r\n    set({ xy: [ref.current.currentX, ref.current.currentY] });\r\n  };\r\n  useEffect(() => {\r\n    if (!elRef.current) return;\r\n\r\n    elRef.current.addEventListener('mousedown', dragStart, false);\r\n    window.addEventListener('mouseup', dragEnd, false);\r\n    window.addEventListener('mousemove', drag, false);\r\n\r\n    return () => {\r\n      if (!elRef.current) return;\r\n      elRef.current.removeEventListener('mousedown', dragStart, false);\r\n      window.removeEventListener('mouseup', dragEnd, false);\r\n      window.removeEventListener('mousemove', drag, false);\r\n    };\r\n  });\r\n\r\n  // arg1 === x; arg2 === y\r\n  const setTransform = (x, y) => {\r\n    ref.current = { xOffset: x, yOffset: y };\r\n    set({ xy: [x, y] });\r\n  };\r\n  return (\r\n    <animated.div\r\n      {...props}\r\n      ref={elRef}\r\n      style={{\r\n        pointerEvents: 'all',\r\n        willChange: 'transform',\r\n        cursor: 'grab',\r\n        transform: xy.interpolate((x, y) => `translate3d(${x}px,${y}px,0)`),\r\n      }}\r\n    >\r\n      {typeof children === 'function' ? children({ setTransform }) : children}\r\n    </animated.div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport 'emoji-mart/css/emoji-mart.css';\r\nimport data from 'emoji-mart/data/facebook.json';\r\nimport { NimblePicker } from 'emoji-mart';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  ClickAwayListener,\r\n  Grow,\r\n  makeStyles,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport { AwesomeIcon } from '../Icons/Icon';\r\nimport { Drag } from './Drag';\r\nimport { animated } from 'react-spring';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  avatar: {\r\n    overflow: 'visible',\r\n  },\r\n  closePicker: {\r\n    position: 'absolute',\r\n    top: '18px',\r\n    left: '100%',\r\n    width: '30px',\r\n    cursor: 'pointer',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.palette.primary.main,\r\n    padding: '6px 8px',\r\n    borderBottomRightRadius: '4px',\r\n    borderTopRightRadius: '4px',\r\n    color: '#fff',\r\n    display: 'flex',\r\n    transition: '0.3s',\r\n    '&:hover ': {\r\n      backgroundColor: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  picker: ({ open }) => ({\r\n    top: '100%',\r\n    position: 'absolute',\r\n    opacity: open ? 1 : 0,\r\n    visibility: open ? 'visible' : 'hidden',\r\n    zIndex: open ? 100 : 10,\r\n\r\n    '& .emoji-mart': {\r\n      boxShadow:\r\n        '0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)!important',\r\n      border: 'none',\r\n      padding: theme.spacing(1),\r\n    },\r\n    '& .emoji-mart-anchor': {\r\n      cursor: 'pointer',\r\n    },\r\n\r\n    '& .emoji-mart .emoji-mart-emoji': {\r\n      cursor: 'pointer',\r\n    },\r\n    '& .emoji-mart .emoji-mart-emoji span': {\r\n      cursor: 'pointer',\r\n    },\r\n  }),\r\n}));\r\n\r\nexport const EmojiePicker = React.memo(\r\n  ({ onSelect, className, renderPicker = true, ...props }) => {\r\n    const [open, setOpen] = useState();\r\n    const classes = useStyles({ open });\r\n\r\n    return (\r\n      <>\r\n        {/* <ClickAwayListener onClickAway={() => setOpen(false)}> */}\r\n        <div>\r\n          <Avatar\r\n            {...props}\r\n            className={classes.avatar + ' ' + className}\r\n            variant=\"rounded\"\r\n            onClick={() => setOpen(!open)}\r\n          >\r\n            <AwesomeIcon icon={open ? 'times' : 'smile'} />\r\n          </Avatar>\r\n\r\n          <Drag className={classes.picker}>\r\n            {({ setTransform }) =>\r\n              renderPicker ? (\r\n                <div\r\n                  style={{\r\n                    transition: '0.3s',\r\n                    opacity: open ? 1 : 0,\r\n                    transform: open ? 'scale(1)' : 'scale(0.8)',\r\n                    transformOrigin: 'center top',\r\n                  }}\r\n                >\r\n                  <Tooltip title=\"close\" placement=\"top\">\r\n                    <div\r\n                      className={classes.closePicker}\r\n                      onClick={() => setOpen(false)}\r\n                    >\r\n                      <AwesomeIcon icon=\"times\" />\r\n                    </div>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"reset position\">\r\n                    <div\r\n                      className={classes.closePicker}\r\n                      style={{ top: '50px' }}\r\n                      onClick={() => setTransform(0, 0)}\r\n                    >\r\n                      <AwesomeIcon icon=\"redo\" />\r\n                    </div>\r\n                  </Tooltip>\r\n                  <Picker onSelect={onSelect} />\r\n                </div>\r\n              ) : null\r\n            }\r\n          </Drag>\r\n        </div>\r\n        {/* </ClickAwayListener> */}\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nconst Picker = React.memo(({ onSelect }) => {\r\n  return (\r\n    <NimblePicker\r\n      notFoundEmoji=\"sob\"\r\n      title=\"Emojies\"\r\n      set=\"facebook\"\r\n      data={data}\r\n      onSelect={(emoji) => {\r\n        onSelect(emoji.native);\r\n        // setOpen(false);\r\n      }}\r\n      // onClick={(emoji) => {\r\n      //   console.log(emoji);\r\n      //   onSelect(emoji.native);\r\n      //   setOpen(false);\r\n      // }}\r\n    />\r\n  );\r\n});\r\n","import {\r\n  Avatar,\r\n  Card,\r\n  Grid,\r\n  makeStyles,\r\n  styled,\r\n  Toolbar,\r\n  Tooltip,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport React, { useCallback, useRef } from 'react';\r\nimport { Editable, Slate } from 'slate-react';\r\nimport { useInView } from 'react-intersection-observer';\r\n\r\nimport { EmojiePicker } from './EmojiPicker';\r\nimport { CopyToClipboard } from './CopyToClipboard';\r\n\r\nconst EDITABLE = styled(Editable)(({ theme }) => ({\r\n  padding: theme.spacing(2),\r\n}));\r\n\r\nconst useStyles = makeStyles((theme) => {\r\n  return {\r\n    root: {\r\n      height: '100%',\r\n      overflow: 'visible',\r\n      '& .MuiAvatar-root.tool': {\r\n        // marginRight: theme.spacing(1),\r\n        backgroundColor: theme.palette.primary.main,\r\n        transition: '0.3s',\r\n\r\n        '&:hover': {\r\n          backgroundColor: theme.palette.primary.dark,\r\n        },\r\n      },\r\n\r\n      '& .emoji-picker': {\r\n        cursor: 'pointer',\r\n      },\r\n\r\n      '::spelling-error': {\r\n        color: 'red',\r\n      },\r\n\r\n      '& .editor': {\r\n        flexGrow: 1,\r\n      },\r\n    },\r\n    toolbar: {\r\n      padding: `${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n      // zIndex: 20,\r\n      backgroundColor: theme.palette.grey[100],\r\n      width: '100%',\r\n    },\r\n  };\r\n});\r\n\r\nexport const Editor = ({\r\n  onChange,\r\n  toolbar,\r\n  children,\r\n  serializedValue,\r\n  value,\r\n  editor,\r\n  style = null,\r\n  disabled = false,\r\n  ...props\r\n}) => {\r\n  const { ref, inView } = useInView();\r\n  // const socket = useSocket();\r\n  // const editor = useMemo(() => withHistory(withReact(createEditor())), []);\r\n  const classes = useStyles();\r\n  const selection = useRef({\r\n    focus: { offset: 0, path: [0, 0] },\r\n    anchor: { offset: 0, path: [0, 0] },\r\n  });\r\n  // const renderLeaf = useCallback((props) => <Leaf {...props} />, [decorate]);\r\n\r\n  // const handleChange = (newValue) => {\r\n  //   const { operations, selection } = editor;\r\n  //   console.log(operations);\r\n  //   // console.log(editor.selection);\r\n  //   if (!operations[0].server) onChange({ operations, selection });\r\n  //   setValue(newValue);\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   socket.on('editor change', ({ id: sId, operations, selection }) => {\r\n  //     if (id !== sId) return;\r\n\r\n  //     operations.forEach((operation) => {\r\n  //       console.log(operation);\r\n  //       editor.apply({ ...operation, server: true });\r\n  //     });\r\n  //   });\r\n  // }, []);\r\n\r\n  const onSelect = useCallback(\r\n    (text) => {\r\n      if (!editor.selection) {\r\n        editor.selection = selection.current;\r\n      }\r\n      editor.insertText(text);\r\n    },\r\n    [editor]\r\n  );\r\n\r\n  return (\r\n    <Card ref={ref} className={classes.root} style={style}>\r\n      <Grid\r\n        container\r\n        direction=\"column\"\r\n        alignItems=\"stretch\"\r\n        style={{ height: '100%' }}\r\n      >\r\n        <Slate editor={editor} value={value} onChange={onChange}>\r\n          <EDITABLE\r\n            {...props}\r\n            readOnly={disabled}\r\n            spellCheck={true}\r\n            className={`editor ${props.className || ''}`}\r\n            placeholder=\"Beginn typing !!\"\r\n            onBlur={() => (selection.current = editor.selection)}\r\n            // renderLeaf={renderLeaf}\r\n            // decorate={decorate}\r\n          />\r\n        </Slate>\r\n\r\n        {toolbar ? (\r\n          <Toolbar className={classes.toolbar} variant=\"dense\" p={1}>\r\n            <Grid container justify=\"space-between\" alignItems=\"center\">\r\n              <Grid item>\r\n                <Grid container justify=\"flex-start\">\r\n                  <EmojiePicker\r\n                    className=\"emoji-picker tool\"\r\n                    renderPicker={inView}\r\n                    onSelect={onSelect}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item>\r\n                <Grid container justify=\"flex-end\">\r\n                  {children}\r\n                  <CopyToClipboard value={serializedValue} />\r\n                  <Tooltip title=\"character count\" placement=\"bottom\">\r\n                    <Avatar\r\n                      variant=\"rounded\"\r\n                      color=\"primary\"\r\n                      className=\"tool\"\r\n                      style={{ marginLeft: '8px' }}\r\n                    >\r\n                      <Typography>{serializedValue.length}</Typography>\r\n                    </Avatar>\r\n                  </Tooltip>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Toolbar>\r\n        ) : null}\r\n      </Grid>\r\n    </Card>\r\n  );\r\n};\r\n\r\nEditor.defaultProps = {\r\n  toolbar: true,\r\n  // onChange: () => {},\r\n  // decorate: () => {},\r\n};\r\n\r\n// const Leaf = ({ attributes, children, leaf }) => {\r\n//   return (\r\n//     <span\r\n//       {...attributes}\r\n//       style={{\r\n//         position: 'relative',\r\n//         backgroundColor: leaf.alphaColor,\r\n//       }}\r\n//     >\r\n//       {leaf.isCaret ? <Caret {...leaf} /> : null}\r\n//       {children}\r\n//     </span>\r\n//   );\r\n// };\r\n","import React, { useRef, useMemo, useState, useEffect } from 'react';\r\nimport { createEditor, Node } from 'slate';\r\nimport { withHistory } from 'slate-history';\r\nimport { withReact } from 'slate-react';\r\nimport { Editor } from '../Editor';\r\nimport { IE } from 'utils';\r\nimport { TextareaAutosize } from '@material-ui/core';\r\n\r\nconst defaultValue = [\r\n  {\r\n    type: 'paragraph',\r\n    children: [\r\n      {\r\n        text: '',\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst serialize = (nodes) => {\r\n  return nodes.map((n) => Node.string(n)).join('\\n');\r\n};\r\n\r\nconst deserialize = (string) => {\r\n  // Return a value array of children derived by splitting the string.\r\n  return string.split('\\n').map((line) => `<p>${line}</p>`);\r\n};\r\n\r\nexport const EditorIE = ({\r\n  id,\r\n  content = null,\r\n  editorRef,\r\n  children,\r\n  onSave = () => {},\r\n  editorProps = {},\r\n  disabled = false,\r\n  saveDelay = 1000,\r\n}) => {\r\n  const [value, setValue] = useState(content);\r\n  const saveTimeout = useRef();\r\n\r\n  return (\r\n    <TextareaAutosize\r\n      className=\"ie-editor editor\"\r\n      {...editorProps}\r\n      ref={(tag) => (editorRef.current = tag)}\r\n      value={value}\r\n      disabled={disabled}\r\n      onChange={(e) => {\r\n        const { value } = e.target;\r\n        clearTimeout(saveTimeout.current);\r\n        saveTimeout.current = setTimeout(() => {\r\n          console.log('save');\r\n          console.log(value);\r\n          onSave({ serializedValue: value });\r\n        }, saveDelay);\r\n        setValue(value);\r\n      }}\r\n    ></TextareaAutosize>\r\n  );\r\n};\r\n","import React, { useRef, useMemo, useState, useEffect } from 'react';\r\nimport { createEditor, Node } from 'slate';\r\nimport { withHistory } from 'slate-history';\r\nimport { withReact } from 'slate-react';\r\nimport { Editor } from '../Editor';\r\nexport * from './EditorIE';\r\nconst defaultValue = [\r\n  {\r\n    type: 'paragraph',\r\n    children: [\r\n      {\r\n        text: '',\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst serialize = (nodes) => {\r\n  return nodes.map((n) => Node.string(n)).join('\\n');\r\n};\r\n\r\nconst deserialize = (string) => {\r\n  // Return a value array of children derived by splitting the string.\r\n  return string.split('\\n').map((line) => {\r\n    return {\r\n      children: [{ text: line }],\r\n    };\r\n  });\r\n};\r\n\r\nexport const EditorClient = ({\r\n  content = null,\r\n  editorRef,\r\n  children,\r\n  onSave = () => {},\r\n  editorProps = {},\r\n  disabled = false,\r\n  saveDelay = 1000,\r\n  ...props\r\n}) => {\r\n  const [value, setValue] = useState(content ? deserialize(content) : defaultValue);\r\n  const saveTimeout = useRef();\r\n\r\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\r\n  useEffect(() => {\r\n    if (!editorRef) return;\r\n    editorRef.current = editor;\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!content) return setValue(defaultValue);\r\n    setValue(deserialize(content));\r\n    // eslint-disable-next-line\r\n  }, [content]);\r\n\r\n  const serialized = serialize(value);\r\n  return (\r\n    <Editor\r\n      {...props}\r\n      {...editorProps}\r\n      editor={editor}\r\n      value={value}\r\n      disabled={disabled}\r\n      serializedValue={serialized}\r\n      onChange={(value) => {\r\n        if (\r\n          editor.operations.length === 1 &&\r\n          editor.operations[0].type === 'set_selection'\r\n        )\r\n          return setValue(value);\r\n\r\n        clearTimeout(saveTimeout.current);\r\n        saveTimeout.current = setTimeout(() => {\r\n          onSave({ value, serializedValue: serialize(value) });\r\n        }, saveDelay);\r\n        setValue(value);\r\n      }}\r\n    >\r\n      {children}\r\n    </Editor>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { IconButton, makeStyles } from '@material-ui/core';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  video: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n    transition: '0.3s',\r\n  },\r\n  button: {\r\n    position: 'absolute',\r\n    left: '50%',\r\n    top: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: 2,\r\n    opacity: 0,\r\n    visibility: 'hidden',\r\n    transition: '0.3s',\r\n    color: '#fff',\r\n  },\r\n  videoContainer: {\r\n    zIndex: 99,\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    fontSize: 0,\r\n\r\n    '&:before': {\r\n      content: '\"\"',\r\n      left: 0,\r\n      top: 0,\r\n      position: 'absolute',\r\n      width: '100%',\r\n      height: '100%',\r\n      background: '#000',\r\n      opacity: 0,\r\n      transition: '0.3s',\r\n    },\r\n    '&:hover .MuiIconButton-root': {\r\n      opacity: 1,\r\n      visibility: 'visible',\r\n    },\r\n    '&:hover:before': {\r\n      opacity: 0.3,\r\n    },\r\n  },\r\n}));\r\nexport const Video = ({ containerStyles, ...props }) => {\r\n  const ref = useRef();\r\n  const [playing, setPlaying] = useState('init');\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (!ref.current || playing === 'init') return;\r\n    if (playing) ref.current.pause();\r\n    else ref.current.play();\r\n  }, [playing]);\r\n  return (\r\n    <div className={classes.videoContainer} style={containerStyles}>\r\n      <video ref={ref} className={classes.video} loop {...props}></video>\r\n      <IconButton\r\n        className={classes.button}\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          setPlaying(!playing);\r\n        }}\r\n      >\r\n        <AwesomeIcon icon={playing ? 'play' : 'pause'} />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Snackbar } from '@material-ui/core';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport const MessageBox = ({\r\n  text,\r\n  toggle,\r\n  severity = 'error',\r\n  autoHideDuration = 30000,\r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!text) return;\r\n    setOpen(true);\r\n    // eslint-disable-next-line\r\n  }, [toggle]);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  return (\r\n    <Snackbar open={open} autoHideDuration={autoHideDuration} onClose={handleClose}>\r\n      <Alert onClose={handleClose} severity={severity}>\r\n        {text}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n","import {\r\n  Avatar,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  makeStyles,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport React, { useMemo } from 'react';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\nimport { Asset } from './Asset';\r\n\r\nconst fontFamily =\r\n  '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif';\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: {\r\n    borderRadius: '3px',\r\n    margin: '0 8px 16px',\r\n    fontFamily,\r\n    boxShadow: 'none',\r\n    border: '1px solid #dbdbdb',\r\n    fontSize: '16px',\r\n    '-webkitFontSmoothing': 'antialiased',\r\n    maxWidth: '600px',\r\n  },\r\n  cardContent: {\r\n    padding: '16px 16px 16px',\r\n  },\r\n  iconContainer: {\r\n    padding: '8px 8px 8px',\r\n  },\r\n  icon: {\r\n    fontSize: '24px',\r\n    margin: '0 8px',\r\n  },\r\n  title: {\r\n    fontWeight: 600,\r\n    fontSize: '14px',\r\n    fontFamily,\r\n    lineHeight: '18px',\r\n  },\r\n  text: {\r\n    fontFamily,\r\n    fontSize: '14px',\r\n    lineHeight: '18px',\r\n    whiteSpace: 'pre-wrap',\r\n    wordBreak: 'break-word',\r\n    fontWeight: 400,\r\n    color: '#050505',\r\n    unicodeBidi: '-webkit-isolate',\r\n    '& .editor': {\r\n      margin: '-20px -4px -6px',\r\n      boxShadow: 'none',\r\n    },\r\n  },\r\n  asset: {\r\n    width: '100%',\r\n  },\r\n  profile: {\r\n    width: '32px',\r\n    height: '32px',\r\n  },\r\n}));\r\n\r\nexport const AssetPicker = ({ assets, assetOrder, ...props }) => {\r\n  if (!assets || assets.length <= 0) return null;\r\n  return <Asset {...props} asset={assets[0]} />;\r\n};\r\n\r\nexport const InstagramView = ({\r\n  client,\r\n  editorComponent,\r\n  assets,\r\n  assetOrder,\r\n  children,\r\n}) => {\r\n  const classes = useStyles();\r\n  const likes = useMemo(() => Math.floor(Math.random() * 500) + 500, []);\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardContent className={classes.cardContent}>\r\n        <Grid container wrap=\"nowrap\" alignItems=\"center\">\r\n          <Avatar className={classes.profile} src={client.profilePicture} alt=\"\" />\r\n          <div style={{ paddingLeft: '14px' }}>\r\n            <Typography className={classes.title} variant=\"h6\">\r\n              {client.slug}\r\n            </Typography>\r\n          </div>\r\n        </Grid>\r\n      </CardContent>\r\n      <AssetPicker\r\n        className={classes.asset}\r\n        assetOrder={assetOrder}\r\n        assets={assets}\r\n      />\r\n      <CardContent className={classes.iconContainer}>\r\n        <Grid container>\r\n          <AwesomeIcon className={classes.icon} prefix=\"ig\" icon=\"like\" />\r\n          <AwesomeIcon className={classes.icon} prefix=\"ig\" icon=\"comment\" />\r\n          <AwesomeIcon className={classes.icon} prefix=\"ig\" icon=\"share\" />\r\n          <Grid container style={{ flexGrow: 1, width: 'auto' }} justify=\"flex-end\">\r\n            <AwesomeIcon className={classes.icon} prefix=\"ig\" icon=\"save\" />\r\n          </Grid>\r\n        </Grid>\r\n        <span\r\n          style={{\r\n            fontSize: '14px',\r\n            display: 'inline-block',\r\n            fontWeight: 600,\r\n            padding: '6px 8px 0',\r\n          }}\r\n        >\r\n          {likes} likes\r\n        </span>\r\n      </CardContent>\r\n      <div variant=\"div\" className={classes.text}>\r\n        {editorComponent}\r\n      </div>\r\n      <div style={{ borderBottom: '1px solid #efefef', marginBottom: '9px' }}></div>\r\n      {children}\r\n    </Card>\r\n  );\r\n};\r\n","import { makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    width: '48px',\r\n    height: '48px',\r\n    backgroundColor: '#e4e6eb',\r\n    borderRadius: '50%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  buttonContainer: ({ right }) => ({\r\n    cursor: 'pointer',\r\n    padding: '16px',\r\n    position: 'absolute',\r\n    right: right ? 0 : 'auto',\r\n    left: right ? 'auto' : 0,\r\n    top: 0,\r\n    height: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    backgroundColor: 'rgba(0,0,0,0.1)',\r\n    opacity: 0.6,\r\n    transition: '0.25s',\r\n\r\n    '&:hover': {\r\n      transform: right ? 'translateX(6px)' : 'translateX(-6px)',\r\n      opacity: 1,\r\n    },\r\n\r\n    '& svg': {\r\n      fontSize: '24px',\r\n    },\r\n  }),\r\n\r\n  exitButton: {\r\n    position: 'absolute',\r\n    top: '16px',\r\n    left: '16px',\r\n    zIndex: 100,\r\n    cursor: 'pointer',\r\n    '& svg': {\r\n      fontSize: '24px',\r\n    },\r\n  },\r\n}));\r\n\r\nexport const ExitButton = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div {...props} className={classes.button + ' ' + classes.exitButton}>\r\n      <AwesomeIcon icon={`times`} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SliderButton = ({ direction = 'right', className, ...props }) => {\r\n  const classes = useStyles({ right: direction === 'right' });\r\n  return (\r\n    <div {...props} className={classes.buttonContainer + ' ' + className}>\r\n      <div className={classes.button}>\r\n        <AwesomeIcon icon={`chevron-${direction}`} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { CardContent, makeStyles } from '@material-ui/core';\r\nimport { Asset } from './Asset';\r\nimport { isIE, mapToObject } from 'utils';\r\nimport SwiperCore, { Navigation } from 'swiper';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\n\r\nimport 'scss/swiper.min.css';\r\nimport { SliderButton } from './SliderButton';\r\nimport { webkitLineClamp } from 'webkit-line-clamp';\r\n\r\nSwiperCore.use([Navigation]);\r\nconst useStyles = makeStyles(() => ({\r\n  gallery: {\r\n    // position: 'relative',\r\n    marginBottom: '6px',\r\n    // overflow: 'hidden',\r\n\r\n    '& .swiper-slide .img': {\r\n      fontSize: 0,\r\n    },\r\n    '& .swiper-slide': {\r\n      margin: '0 4px',\r\n      width: '302px',\r\n      borderRadius: 'max(0px, min(8px, calc((100vw - 4px - 100%) * 9999))) / 8px',\r\n      overflow: 'hidden',\r\n      border: '1px solid #e2e4e7',\r\n    },\r\n    '& .slide img': {\r\n      objectFit: 'cover',\r\n      cursor: 'pointer',\r\n      position: 'relative',\r\n      width: '302px',\r\n      height: '302px',\r\n    },\r\n  },\r\n\r\n  galleryWrapper: {\r\n    width: 'auto',\r\n    display: 'flex',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'flex-start',\r\n    flexWrap: 'nowrap',\r\n  },\r\n\r\n  slider: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n\r\n  slide: {\r\n    maxWidth: '1200px',\r\n    maxHeight: '90vh',\r\n    userSelect: 'none',\r\n    '& img': {\r\n      objectFit: 'contain',\r\n    },\r\n  },\r\n\r\n  link: {\r\n    display: 'block',\r\n    textDecoration: 'none',\r\n    color: 'inherit',\r\n    '&:active, &:visited': {\r\n      color: 'inherit',\r\n    },\r\n  },\r\n\r\n  slideContent: {\r\n    height: '73px',\r\n    boxSizing: 'border-box',\r\n    padding: '8px 12px 11px',\r\n    fontSize: '16px',\r\n    display: 'flex',\r\n    flexFlow: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n  },\r\n\r\n  text: {\r\n    display: 'block',\r\n    lineClamp: 1,\r\n    lineHeight: 1.2308,\r\n    display: '-webkit-box',\r\n    boxOrient: 'vertical',\r\n    overflow: 'hidden',\r\n    fontSize: '.8125rem',\r\n    margin: 0,\r\n    fontFamily: 'Segoe UI, Helvetica, Arial, sans-serif',\r\n  },\r\n  title: {\r\n    lineHeight: '1.3333',\r\n    fontSize: '.9375em',\r\n    display: 'block',\r\n    display: '-webkit-box',\r\n    boxOrient: 'vertical',\r\n    overflow: 'hidden',\r\n    lineClamp: 2,\r\n    fontWeight: 600,\r\n    margin: 0,\r\n    fontFamily: 'Segoe UI, Helvetica, Arial, sans-serif',\r\n  },\r\n\r\n  sliderButton: {\r\n    zIndex: 100,\r\n    opacity: 1,\r\n    backgroundColor: 'transparent',\r\n    transform: 'translateX(0)!important',\r\n\r\n    '& > div': {\r\n      backgroundColor: '#fff',\r\n      transition: '0.3s',\r\n      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n      '&:hover': {\r\n        backgroundColor: '#e4e6eb',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport const AssetCarousel = ({ assets, assetOrder, ...props }) => {\r\n  const classes = useStyles();\r\n  const assetsM = useMemo(() => mapToObject(assets, (asset) => asset, 'name'), [\r\n    assets,\r\n  ]);\r\n  const swiper = useRef();\r\n  const [isStart, setIsStart] = useState(false);\r\n  const [isEnd, setIsEnd] = useState(false);\r\n\r\n  const settings = {\r\n    loop: false,\r\n    speed: 500,\r\n    slidesPerView: 'auto',\r\n    setWrapperSize: true,\r\n  };\r\n\r\n  const slideNext = () => {\r\n    if (!swiper.current) return;\r\n    swiper.current.slideNext();\r\n    setIsStart(swiper.current.isBeginning);\r\n    setIsEnd(swiper.current.isEnd);\r\n  };\r\n  const slidePrev = () => {\r\n    if (!swiper.current) return;\r\n    swiper.current.slidePrev();\r\n    setIsStart(swiper.current.isBeginning);\r\n    setIsEnd(swiper.current.isEnd);\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingLeft: '10px' }}>\r\n      <Swiper\r\n        {...settings}\r\n        simulateTouch={false}\r\n        onSwiper={(newSwiper) => {\r\n          swiper.current = newSwiper;\r\n          setIsStart(swiper.current.isBeginning);\r\n          setIsEnd(swiper.current.isEnd);\r\n        }}\r\n        className={classes.gallery}\r\n      >\r\n        {assetOrder.map((asset, i) => {\r\n          return (\r\n            <SwiperSlide\r\n              href={assetsM[asset].link}\r\n              target=\"_blank\"\r\n              rel=\"noreferrer noopener\"\r\n              tag={assetsM[asset].link ? 'a' : 'div'}\r\n              key={asset}\r\n              className={classes.link}\r\n            >\r\n              <Slide asset={assetsM[asset]} {...props} />\r\n            </SwiperSlide>\r\n          );\r\n        })}\r\n        <SliderButton\r\n          className={classes.sliderButton}\r\n          direction={'left'}\r\n          onClick={slidePrev}\r\n          style={{\r\n            opacity: !isStart ? 1 : 0,\r\n            visibility: !isStart ? 'visible' : 'hidden',\r\n          }}\r\n        />\r\n        <SliderButton\r\n          className={classes.sliderButton}\r\n          direction={'right'}\r\n          onClick={slideNext}\r\n          style={{\r\n            opacity: isEnd ? 0 : 1,\r\n            visibility: !isEnd ? 'visible' : 'hidden',\r\n          }}\r\n        />\r\n      </Swiper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Slide = ({ asset, path, ...props }) => {\r\n  const classes = useStyles();\r\n  const slideRef = useRef();\r\n  useEffect(() => {\r\n    if (!isIE()) return;\r\n    webkitLineClamp(slideRef.current.querySelector(`.${classes.title}`), 2);\r\n    webkitLineClamp(slideRef.current.querySelector(`.${classes.text}`), 1);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"img\">\r\n        <Asset asset={asset} {...props} />\r\n      </div>\r\n      <div ref={slideRef} className={classes.slideContent}>\r\n        <p className={classes.title}>{asset.title}</p>\r\n        <p className={classes.text}>{asset.content}</p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  Card,\r\n  Grid,\r\n  IconButton,\r\n  makeStyles,\r\n  Modal,\r\n  Slider,\r\n} from '@material-ui/core';\r\nimport { Asset } from './Asset';\r\nimport { mapToObject, useObjectFitPolyfill } from 'utils';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\nimport { SliderButton } from './SliderButton';\r\nimport { ExitButton } from './SliderButton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  gallery: {\r\n    position: 'relative',\r\n    marginBottom: '6px',\r\n\r\n    '& img': {\r\n      height: '100%',\r\n      width: '100%',\r\n      objectFit: 'cover',\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n    },\r\n    '& .MuiGrid-item': {\r\n      cursor: 'pointer',\r\n      position: 'relative',\r\n      paddingRight: '1.5px',\r\n      paddingLeft: '1.5px',\r\n      '&:first-child': {\r\n        marginBottom: '3px',\r\n        paddingLeft: '0px',\r\n      },\r\n      '&:nth-child(2)': {\r\n        paddingLeft: '0px',\r\n      },\r\n      '& .content-sizer': {\r\n        position: 'relative',\r\n        width: '100%',\r\n        paddingTop: '50%',\r\n      },\r\n      '&:last-child': {\r\n        paddingRight: 0,\r\n      },\r\n    },\r\n  },\r\n\r\n  slider: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n\r\n  slide: {\r\n    maxWidth: '1200px',\r\n    maxHeight: '90vh',\r\n    userSelect: 'none',\r\n    '& img': {\r\n      objectFit: 'contain',\r\n    },\r\n  },\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.4)',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    fontSize: '2rem',\r\n    fontWeight: 500,\r\n    color: '#fff',\r\n    fontFamily: 'Segoe UI, Helvetica, Arial, sans-serif',\r\n  },\r\n}));\r\n\r\nconst preloadImages = (...args) => {\r\n  const images = [];\r\n  for (var i = 0; i < args.length; i++) {\r\n    images[i] = new Image();\r\n    images[i].src = args[i];\r\n  }\r\n  return images;\r\n};\r\n\r\nexport const Gallery = ({ assets, assetOrder, ...props }) => {\r\n  const classes = useStyles();\r\n\r\n  const [sliderIndex, setSliderIndex] = useState(assetOrder[0]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const assetsM = useMemo(() => mapToObject(assets, (asset) => asset, 'name'), [\r\n    assets,\r\n  ]);\r\n  useObjectFitPolyfill();\r\n\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    setTimeout(() => {\r\n      const indexNext = assetOrder[getNewSlideIndex('right')];\r\n      const indexPrev = assetOrder[getNewSlideIndex('left')];\r\n      const images = preloadImages(\r\n        assetsM[indexNext].path,\r\n        assetsM[indexPrev].path\r\n      );\r\n    }, 200);\r\n  }, [open, sliderIndex]);\r\n\r\n  const getNewSlideIndex = (direction) => {\r\n    const numSlides = assetOrder.length;\r\n    const increment = direction === 'right' ? 1 : -1;\r\n    return (assetOrder.indexOf(sliderIndex) + increment + numSlides) % numSlides;\r\n  };\r\n\r\n  const slideChange = (direction) => {\r\n    const newIndex = getNewSlideIndex(direction);\r\n    setSliderIndex(assetOrder[newIndex]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid container className={classes.gallery}>\r\n        {assetOrder.map((asset, i) => {\r\n          const smallImg = i > 0 && assets.length >= 3;\r\n          const smallerImg = assets.length >= 4;\r\n          if (i >= 4) return null;\r\n          return (\r\n            <Grid\r\n              key={asset}\r\n              item\r\n              xs={smallImg ? (smallerImg ? 4 : 6) : 12}\r\n              onClick={() => {\r\n                setSliderIndex(asset);\r\n                setOpen(true);\r\n              }}\r\n            >\r\n              <div\r\n                className=\"content-sizer\"\r\n                style={{ paddingTop: smallImg ? '100%' : '50%' }}\r\n              >\r\n                <Asset\r\n                  asset={assetsM[asset]}\r\n                  data-object-fit={i === 0 ? 'cover' : null}\r\n                  smallImg={smallImg}\r\n                  {...props}\r\n                />\r\n                {assets.length > 4 && i === 3 ? (\r\n                  <div className={classes.slider + ' ' + classes.overlay}>\r\n                    <span>+{assets.length - 3}</span>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n      <Modal\r\n        onClose={() => setOpen(false)}\r\n        className={classes.slider}\r\n        disableAutoFocus\r\n        open={open}\r\n      >\r\n        <>\r\n          <ExitButton onClick={() => setOpen(false)} />\r\n          <SliderButton direction={'left'} onClick={() => slideChange('left')} />\r\n          <Slide className={classes.slide} path={assetsM[sliderIndex].path} />\r\n          <SliderButton onClick={() => slideChange('right')} />\r\n        </>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Slide = ({ path, ...props }) => {\r\n  useObjectFitPolyfill();\r\n  return <img {...props} src={path} alt=\"\" />;\r\n};\r\n","import React from 'react';\r\nimport { Asset } from './Asset';\r\nimport { AssetCarousel } from './Carousel';\r\nimport { Gallery } from './Gallery';\r\n\r\nexport const AssetPicker = ({ assets, assetOrder, ...props }) => {\r\n  if (!assets || assets.length <= 0) return null;\r\n  if (assets.length === 1) return <Asset {...props} asset={assets[0]} />;\r\n\r\n  const isCarousel = assets.filter((asset) => asset.content);\r\n  if (isCarousel.length > 0)\r\n    return <AssetCarousel {...props} assetOrder={assetOrder} assets={assets} />;\r\n\r\n  return <Gallery {...props} assetOrder={assetOrder} assets={assets} />;\r\n};\r\n","import {\r\n  Avatar,\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  makeStyles,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useAuth } from 'services';\r\nimport { useAssetUploader } from 'ui/components/AssetUploader/AssetUploaderContext';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\nimport { AssetPicker } from './AssetPicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: ({ isJob }) => ({\r\n    borderRadius: 'max(0px, min(8px, calc((100vw - 4px - 100%) * 9999))) / 8px',\r\n    margin: '0 8px 16px',\r\n    fontFamily: 'Helvetica',\r\n    boxShadow: '0 1px 2px rgba(0,0,0,0.2)',\r\n    fontSize: '16px',\r\n    '-webkitFontSmoothing': 'antialiased',\r\n    maxWidth: '500px',\r\n    position: 'relative',\r\n  }),\r\n  cardContent: {\r\n    padding: '12px 16px 12px',\r\n  },\r\n  title: {\r\n    fontWeight: 600,\r\n    fontSize: '.9375em',\r\n    fontFamily: 'Segoe UI, Helvetica, Arial, sans-serif',\r\n    lineHeight: 1.3333,\r\n  },\r\n  date: {\r\n    // lineHeight: 1.2308,\r\n    fontFamily: 'Segoe UI, Helvetica, Arial, sans-serif',\r\n    fontSize: '.8125em',\r\n    color: '#65676b',\r\n  },\r\n  text: {\r\n    fontFamily: 'Segoe UI, Helvetica, Arial, sans-serif',\r\n    fontSize: '.9375em',\r\n    lineHeight: 1.34,\r\n    whiteSpace: 'pre-wrap',\r\n    wordBreak: 'break-word',\r\n    fontWeight: 400,\r\n    color: '#050505',\r\n    unicodeBidi: '-webkit-isolate',\r\n\r\n    '& .editor': {\r\n      margin: '-28px -4px -8px',\r\n      boxShadow: 'none',\r\n    },\r\n  },\r\n  asset: {\r\n    width: '100%',\r\n  },\r\n}));\r\n\r\nexport const FacebookView = ({\r\n  client,\r\n  editorComponent,\r\n  dateFormatted,\r\n  assets,\r\n  children,\r\n  assetOrder,\r\n  ...props\r\n}) => {\r\n  const { user } = useAuth();\r\n  const isJob = props.salary && props.employmentType;\r\n  const classes = useStyles({ isJob });\r\n  console.log(isJob);\r\n\r\n  return (\r\n    <div>\r\n      {isJob ? (\r\n        <Card className={classes.card}>\r\n          <AssetPicker\r\n            className={classes.asset}\r\n            assetOrder={assetOrder}\r\n            assets={assets}\r\n          />\r\n          <CardContent className={classes.cardContent}>\r\n            <CardHeader\r\n              {...props}\r\n              user={user}\r\n              client={client}\r\n              classes={classes}\r\n              dateFormatted={dateFormatted}\r\n            />\r\n          </CardContent>\r\n          <div\r\n            style={{\r\n              padding: '10px 16px 10px',\r\n              margin: '0 -0 30px',\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\" style={{ marginBottom: '10px' }}>\r\n              Job Details\r\n            </Typography>\r\n            <Grid container className={classes.text}>\r\n              <AwesomeIcon\r\n                icon=\"briefcase\"\r\n                style={{ color: '#b9b9b9', fontSize: '20px', marginRight: '8px' }}\r\n              />{' '}\r\n              <span>{props.employmentType}</span>\r\n              {' · '}\r\n              <span style={{ color: '#31a24c' }}>{props.salary}</span>\r\n            </Grid>\r\n          </div>\r\n          <div variant=\"div\" className={classes.text}>\r\n            {editorComponent}\r\n          </div>\r\n          {children}\r\n        </Card>\r\n      ) : (\r\n        <Card className={classes.card}>\r\n          <CardContent className={classes.cardContent}>\r\n            <CardHeader\r\n              {...props}\r\n              user={user}\r\n              client={client}\r\n              classes={classes}\r\n              dateFormatted={dateFormatted}\r\n            />\r\n          </CardContent>\r\n          <div variant=\"div\" className={classes.text}>\r\n            {editorComponent}\r\n          </div>\r\n          <AssetPicker\r\n            className={classes.asset}\r\n            assetOrder={assetOrder}\r\n            assets={assets}\r\n          />\r\n\r\n          {children}\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst CardHeader = ({ classes, client, dateFormatted, user, ...props }) => {\r\n  return (\r\n    <Grid container wrap=\"nowrap\">\r\n      <Avatar src={client.profilePicture} alt=\"\" />\r\n      <div style={{ flexGrow: 1, paddingLeft: '6px', marginBottom: '8px' }}>\r\n        <Typography className={classes.title} variant=\"h6\">\r\n          {client.facebookName}\r\n        </Typography>\r\n        <Grid container justify=\"space-between\" align-items=\"center\">\r\n          <Typography className={classes.date} variant=\"caption\">\r\n            {dateFormatted} · <AwesomeIcon icon=\"globe-americas\" />\r\n          </Typography>\r\n          {user.role !== 'guest' ? (\r\n            <div>\r\n              <Typography className={classes.date} variant=\"caption\">\r\n                {' '}\r\n                <AwesomeIcon prefix=\"fab\" icon=\"facebook-square\" />{' '}\r\n                {props.budget || 0} €\r\n              </Typography>\r\n              <Typography className={classes.date} variant=\"caption\">\r\n                {' '}\r\n                <AwesomeIcon prefix=\"fab\" icon=\"instagram\" /> {props.budgetIG || 0}{' '}\r\n                €\r\n              </Typography>\r\n            </div>\r\n          ) : null}\r\n        </Grid>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  makeStyles,\r\n  TextField,\r\n} from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { useAuth } from 'services';\r\nimport { useSocket } from 'services/socket-provider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  buttonProgress: {\r\n    color: theme.palette.success.main,\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nexport const ChangeImageButton = ({ id, onSave = () => {}, ...props }) => {\r\n  const classes = useStyles();\r\n  const socket = useSocket();\r\n  const [open, setOpen] = useState(false);\r\n  const [text, setText] = useState();\r\n  const [loading, setLoading] = useState();\r\n  const { user } = useAuth();\r\n\r\n  const handleSubmit = () => {\r\n    if (!text) return;\r\n    setLoading(true);\r\n    const clientName = user.username;\r\n    const clientEmail = user.email;\r\n    socket.emit(\r\n      'client change',\r\n      { id, imageChanges: { text }, clientName, clientEmail },\r\n      (e) => {\r\n        setText('');\r\n        handleClose();\r\n        onSave();\r\n        setLoading(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <Button {...props} onClick={handleOpen}>\r\n        {props.children}\r\n      </Button>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>Bild Korrekturen</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Bitte beschreiben Sie Ihre Änderungswünsche zur Abbildung im unten\r\n            angezeigten Textfeld.\r\n          </DialogContentText>\r\n          <TextField\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            label=\"Änderungswünsche\"\r\n            multiline\r\n            rows={3}\r\n            fullWidth\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n            focused\r\n            autoFocus\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Abbrechen</Button>\r\n          <Button\r\n            disabled={loading || !text}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Speichern\r\n            {loading ? (\r\n              <CircularProgress className={classes.buttonProgress} size={24} />\r\n            ) : null}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n","import { Button, CircularProgress, makeStyles } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useQueryCache } from 'react-query';\r\nimport { useAuth } from 'services';\r\nimport { useSocket } from 'services/socket-provider';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: ({ success }) =>\r\n    success\r\n      ? {\r\n          backgroundColor: theme.palette.success.main,\r\n          '&:hover': {\r\n            backgroundColor: theme.palette.success.dark,\r\n          },\r\n        }\r\n      : null,\r\n  buttonProgress: {\r\n    color: theme.palette.primary.main,\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n    // background: theme.palette.action.disabled,\r\n  },\r\n}));\r\n\r\nexport const FreigebenBtn = ({ approved, id, QUERY }) => {\r\n  const cache = useQueryCache();\r\n  const socket = useSocket();\r\n  const [loading, setLoading] = useState();\r\n  const classes = useStyles({ success: approved });\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    setLoading(false);\r\n  }, [approved]);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"contained\"\r\n        className={classes.button}\r\n        startIcon={<AwesomeIcon icon=\"check-circle\" />}\r\n        disabled={loading}\r\n        onClick={() => {\r\n          if (approved) return;\r\n          setLoading(true);\r\n          const clientName = user.username;\r\n          const clientEmail = user.email;\r\n\r\n          socket.emit(\r\n            'client change',\r\n            {\r\n              id,\r\n              approved: true,\r\n              clientName,\r\n              clientEmail,\r\n            },\r\n            (e) => {\r\n              console.log(e);\r\n              // setLoading(false);\r\n              console.log('invalidate query');\r\n              cache.invalidateQueries(QUERY);\r\n            }\r\n          );\r\n        }}\r\n      >\r\n        {approved ? 'Freigegeben' : 'Freigeben'}\r\n        {loading ? (\r\n          <CircularProgress className={classes.buttonProgress} size={24} />\r\n        ) : null}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport { CardContent, Grid, makeStyles, Button, Tooltip } from '@material-ui/core';\r\nimport dayjs from 'dayjs';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\nimport { EditorClient, EditorIE } from 'ui/components/EditorClient';\r\nimport { useSocket } from 'services/socket-provider';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { MessageBox } from 'pages/Posts/MessageBox';\r\nimport { ChangeImageButton } from '../ChangeImageBtn';\r\nimport { FreigebenBtn } from '../FreigebenBtn';\r\nimport { FacebookView } from './FacebookView';\r\nimport { InstagramView } from './InstagramView';\r\nimport { useQueryCache } from 'react-query';\r\nimport { IE } from 'utils';\r\nimport { useAuth } from 'services';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardContent: {\r\n    padding: '6px 16px 16px!important',\r\n  },\r\n}));\r\n\r\nconst PostView = ({ type, ...props }) => {\r\n  return type === 'fb' ? (\r\n    <FacebookView {...props} type={type} />\r\n  ) : (\r\n    <InstagramView {...props} type={type} />\r\n  );\r\n};\r\n\r\nexport const Post = ({ QUERY, date, approved, id, content, type, ...props }) => {\r\n  const cache = useQueryCache();\r\n  const classes = useStyles({ type });\r\n  const editor = useRef();\r\n  const socket = useSocket();\r\n  const dateFormatted = useMemo(() => dayjs(date).format('D. MMMM'), [date]);\r\n  const [clientText, setClientText] = useState(null);\r\n  const [correctionMode, setCorrectionMode] = useState(false);\r\n  const [msg, setMsg] = useState({ toggle: false, text: '' });\r\n  const { user } = useAuth();\r\n  // focus Edtior\r\n  useEffect(() => {\r\n    if (!editor.current || !correctionMode) return;\r\n    if (!IE) ReactEditor.focus(editor.current);\r\n    else editor.current.focus();\r\n  }, [correctionMode]);\r\n\r\n  return (\r\n    <PostView\r\n      {...props}\r\n      type={type}\r\n      dateFormatted={dateFormatted}\r\n      editorComponent={\r\n        !IE ? (\r\n          <EditorClient\r\n            editorRef={editor}\r\n            disabled={!correctionMode}\r\n            content={content}\r\n            saveDelay={300}\r\n            editorProps={{\r\n              toolbar: false,\r\n              style: {\r\n                boxShadow: !correctionMode\r\n                  ? 'none'\r\n                  : 'box-shadow: inset 0px -3px 10px rgb(0 0 0 / 0.5)',\r\n              },\r\n            }}\r\n            onSave={({ serializedValue }) => {\r\n              setClientText(serializedValue);\r\n              cache.invalidateQueries(QUERY);\r\n            }}\r\n            id={id}\r\n          />\r\n        ) : (\r\n          <EditorIE\r\n            editorRef={editor}\r\n            disabled={!correctionMode}\r\n            content={content}\r\n            saveDelay={300}\r\n            onSave={({ serializedValue }) => {\r\n              setClientText(serializedValue);\r\n              cache.invalidateQueries(QUERY);\r\n            }}\r\n            id={id}\r\n          />\r\n        )\r\n      }\r\n    >\r\n      <CardContent className={classes.cardContent}>\r\n        <Grid container justify=\"space-between\">\r\n          <FreigebenBtn approved={approved} id={id} QUERY={QUERY}></FreigebenBtn>\r\n          <Grid item>\r\n            <ChangeImageButton\r\n              id={id}\r\n              style={{ marginRight: '8px' }}\r\n              color=\"primary\"\r\n              disabled={approved}\r\n              onSave={() => {\r\n                setMsg({\r\n                  toggle: !msg.toggle,\r\n                  text: 'Bild Korrektur wurde gespeichert!',\r\n                  severity: 'success',\r\n                });\r\n              }}\r\n            >\r\n              Bild Korrekturen\r\n            </ChangeImageButton>\r\n            <Tooltip\r\n              title=\"Ändern Sie den Text gleich direkt am Post!\"\r\n              placement=\"top\"\r\n            >\r\n              <span>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  startIcon={\r\n                    <AwesomeIcon\r\n                      style={{ fontSize: '100%' }}\r\n                      icon={correctionMode ? 'check-circle' : 'pen'}\r\n                    />\r\n                  }\r\n                  disabled={approved || (correctionMode && !clientText)}\r\n                  onClick={() => {\r\n                    if (correctionMode && clientText) {\r\n                      const clientName = user.username;\r\n                      const clientEmail = user.email;\r\n                      socket.emit(\r\n                        'client change',\r\n                        {\r\n                          id,\r\n                          content: clientText,\r\n                          clientCorrected: true,\r\n                          clientName,\r\n                          clientEmail,\r\n                        },\r\n                        () => {\r\n                          setMsg({\r\n                            toggle: !msg.toggle,\r\n                            text: 'Korrektur wurde gespeichert!',\r\n                            severity: 'success',\r\n                          });\r\n                        }\r\n                      );\r\n\r\n                      setClientText(null);\r\n                    }\r\n                    setCorrectionMode(!correctionMode);\r\n                  }}\r\n                >\r\n                  {correctionMode ? 'Speichern' : 'Korrigieren'}\r\n                </Button>\r\n              </span>\r\n            </Tooltip>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <MessageBox autoHideDuration={15000} {...msg} />\r\n    </PostView>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  makeStyles,\r\n  TextField,\r\n} from '@material-ui/core';\r\nimport { useAuth, checkCode } from 'services';\r\nimport { useQueryCache } from 'react-query';\r\nimport { Loader } from 'ui/components/Loader';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  buttonProgress: {\r\n    color: theme.palette.success.main,\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\nexport const AskCode = ({ id, QUERY }) => {\r\n  const classes = useStyles();\r\n  const { user, setUser } = useAuth();\r\n  const [open, setOpen] = useState(false);\r\n  const [code, setCode] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const cache = useQueryCache();\r\n\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!code) return setError('Geben Sie einen Code ein');\r\n    setLoading(true);\r\n    try {\r\n      const res = await checkCode({ code, id });\r\n      cache.setQueryData(QUERY, () => res.queryData);\r\n      setUser({ ...res.code, username: res.code.name, role: 'guest' });\r\n      handleClose();\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setError(e.response.data);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await checkCode({ code: 'check', id });\r\n        cache.setQueryData(QUERY, () => res.queryData);\r\n        setUser({ ...res.code, username: res.code.name, role: 'guest' });\r\n        handleClose();\r\n        setLoading(false);\r\n        console.log(res);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n        if (!user) return handleOpen();\r\n      }\r\n    })();\r\n  }, []);\r\n  useEffect(() => {\r\n    // if (!user) return handleOpen();\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <Loader loading={loading} />\r\n      <Dialog\r\n        open={open}\r\n        onBackdropClick={(e) => {\r\n          e.preventDefault();\r\n        }}\r\n      >\r\n        <form onSubmit={handleSubmit}>\r\n          <DialogTitle>\r\n            Geben Sie Ihren Code ein{' '}\r\n            {process.env.NODE_ENV === 'development' ? 'ԅ(≖‿≖ԅ)' : ''}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <TextField\r\n              value={code}\r\n              onChange={(e) => setCode(e.target.value)}\r\n              label=\"Code\"\r\n              fullWidth\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              focused\r\n              autoFocus\r\n              error={error ? true : false}\r\n              helperText={error}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              disabled={code ? false : true || loading}\r\n              color=\"primary\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Absenden\r\n              {loading ? (\r\n                <CircularProgress className={classes.buttonProgress} size={24} />\r\n              ) : null}\r\n            </Button>\r\n          </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n","import React, { useMemo, useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { useParams } from 'react-router';\r\nimport { Loader } from 'ui/components/Loader';\r\nimport { getLinkById } from 'services/client-link-api';\r\nimport { Container, Grid } from '@material-ui/core';\r\nimport { Post } from './Post';\r\nimport { AskCode } from './AskCode';\r\nimport { useAuth } from 'services';\r\n\r\nimport 'objectFitPolyfill/dist/objectFitPolyfill.min.js';\r\n\r\nconst ClientView = () => {\r\n  const { id } = useParams();\r\n  const { user } = useAuth();\r\n  const QUERY = useMemo(() => ['client-link', { id }], [id]);\r\n  const { isLoading, data } = useQuery(QUERY, () => getLinkById(id), {\r\n    enabled: user,\r\n  });\r\n  return (\r\n    <>\r\n      <Loader loading={isLoading} />\r\n      <Container style={{ padding: '1rem', marginBottom: '1rem' }}>\r\n        <Grid container alignItems=\"center\" justify=\"center\">\r\n          <img\r\n            src=\"/assets/logo.svg\"\r\n            style={{ maxWidth: '300px', marginRight: '1rem' }}\r\n            alt=\"logo\"\r\n          />\r\n          {/* <Typography variant=\"h4\">Post Vorschau</Typography> */}\r\n        </Grid>\r\n      </Container>\r\n      <AskCode id={id} QUERY={QUERY} />\r\n      {!data || !user ? null : (\r\n        <PostList QUERY={QUERY} client={data.client} posts={data.posts} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst PostList = ({ posts, client, QUERY }) => {\r\n  return (\r\n    <>\r\n      <Container maxWidth=\"lg\">\r\n        <Grid\r\n          container\r\n          justify=\"center\"\r\n          alignItems=\"flex-start\"\r\n          alignContent=\"flex-start\"\r\n        >\r\n          {posts.map(({ _id, ...postProps }) =>\r\n            postProps.hidden ? null : (\r\n              <React.Fragment key={_id}>\r\n                <Post {...postProps} QUERY={QUERY} id={_id} client={client}></Post>\r\n                <br />\r\n              </React.Fragment>\r\n            )\r\n          )}\r\n        </Grid>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ClientView;\r\n"],"sourceRoot":""}