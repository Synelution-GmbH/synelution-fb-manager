{"version":3,"sources":["ui/components/AssetUploader/Video.jsx","ui/components/AssetUploader/index.jsx","pages/Dashboard/CreateClient.jsx","pages/Dashboard/ClientList.jsx","pages/Dashboard/SearchBar.jsx","pages/Dashboard/index.jsx"],"names":["useStyles","makeStyles","theme","video","width","height","objectFit","transition","button","position","left","top","transform","zIndex","opacity","visibility","color","videoContainer","background","Video","props","ref","useRef","useState","playing","setPlaying","classes","useEffect","current","pause","play","className","loop","IconButton","onClick","e","stopPropagation","icon","root","overflow","paddingTop","padding","spacing","backgroundSize","backgroundPosition","upload","isDragActive","hide","border","palette","primary","main","grey","backgroundColor","fontSize","marginBottom","AssetUploader","setFile","setDataUrl","preview","children","image","setImage","setVideo","onDrop","useCallback","acceptedFiles","a","file","reader","FileReader","onabort","console","log","onerror","onload","binaryStr","result","readAsDataURL","useDropzone","maxFiles","multiple","getRootProps","getInputProps","path","Card","style","backgroundImage","src","CardContent","Paper","variant","elevation","Grid","container","justify","alignContent","Typography","align","input","CreateClient","addClient","open","setOpen","name","setName","facebookName","setFacebookName","loading","setLoading","handleSubmit","data","FormData","append","handleClose","Tooltip","title","Fab","size","Dialog","onClose","aira-labelledby","DialogTitle","id","DialogContent","minWidth","TextField","onChange","target","value","autoFocus","fullWidth","label","type","InputLabel","margin","DialogActions","Button","startIcon","disabled","ListItemLink","ListItem","component","Link","ClientCard","profilePicture","slug","length","to","ListItemAvatar","Avatar","alt","ListItemText","ClientList","clients","List","map","client","i","Fragment","key","Divider","SearchBar","setFilteredList","searchProperty","list","setValue","filteredList","filter","item","toLowerCase","search","FormControl","htmlFor","Input","endAdornment","InputAdornment","Dashboard","filtered","setFiltered","cache","useQueryCache","useQuery","getClients","isLoading","useMutation","postClient","onSuccess","invalidateQueries","Helmet","Container","maxWidth","Toolbar","Box","clone","mt"],"mappings":"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","file":"static/js/14.f646b16f.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { IconButton, makeStyles } from '@material-ui/core';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  video: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n    transition: '0.3s',\r\n  },\r\n  button: {\r\n    position: 'absolute',\r\n    left: '50%',\r\n    top: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: 2,\r\n    opacity: 0,\r\n    visibility: 'hidden',\r\n    transition: '0.3s',\r\n    color: '#fff',\r\n  },\r\n  videoContainer: {\r\n    zIndex: 99,\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    background: '#000',\r\n    '&:hover .MuiIconButton-root': {\r\n      opacity: 1,\r\n      visibility: 'visible',\r\n    },\r\n    '&:hover video': {\r\n      opacity: 0.7,\r\n    },\r\n  },\r\n}));\r\nexport const Video = (props) => {\r\n  const ref = useRef();\r\n  const [playing, setPlaying] = useState('init');\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (!ref.current || playing === 'init') return;\r\n    if (playing) ref.current.pause();\r\n    else ref.current.play();\r\n  }, [playing]);\r\n  return (\r\n    <div className={classes.videoContainer}>\r\n      <video ref={ref} className={classes.video} loop {...props}></video>\r\n      <IconButton\r\n        className={classes.button}\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          setPlaying(!playing);\r\n        }}\r\n      >\r\n        <AwesomeIcon icon={playing ? 'play' : 'pause'} />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  Card,\r\n  CardContent,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { AwesomeIcon } from '../Icons/Icon';\r\n\r\nimport { Video } from './Video';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: () => ({\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    paddingTop: '100%',\r\n    '& > .MuiCardContent-root': {\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      padding: theme.spacing(3),\r\n    },\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  }),\r\n  upload: ({ isDragActive, hide }) => ({\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '100%',\r\n    border: `2px dashed ${\r\n      isDragActive ? theme.palette.primary.main : theme.palette.grey[200]\r\n    }`,\r\n    backgroundColor: theme.palette.grey[50],\r\n    padding: theme.spacing(3),\r\n    transition: '0.3s',\r\n    opacity: hide && !isDragActive ? 0 : 1,\r\n\r\n    '& .svg-inline--fa': {\r\n      transition: '0.3s',\r\n      fontSize: '38px',\r\n      marginBottom: theme.spacing(2),\r\n      color: isDragActive ? theme.palette.primary.main : theme.palette.grey[400],\r\n    },\r\n  }),\r\n}));\r\n\r\nexport const AssetUploader = ({\r\n  setFile = () => {},\r\n  setDataUrl = () => {},\r\n  preview = null,\r\n  children,\r\n}) => {\r\n  const [image, setImage] = useState();\r\n  const [video, setVideo] = useState();\r\n\r\n  const onDrop = useCallback(\r\n    async (acceptedFiles) => {\r\n      const file = acceptedFiles[0];\r\n      setFile(file);\r\n      const reader = new FileReader();\r\n\r\n      reader.onabort = () => console.log('file reading was aborted');\r\n      reader.onerror = () => console.log('file reading has failed');\r\n      reader.onload = async () => {\r\n        // Do whatever you want with the file contents\r\n        const binaryStr = reader.result;\r\n        setImage(binaryStr);\r\n        setDataUrl(binaryStr);\r\n      };\r\n      // reader.readAsArrayBuffer(file);\r\n      reader.readAsDataURL(file);\r\n    },\r\n    [setFile, setDataUrl]\r\n  );\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop,\r\n    maxFiles: 1,\r\n    multiple: false,\r\n  });\r\n\r\n  const classes = useStyles({ isDragActive, hide: image || video, image });\r\n\r\n  useEffect(() => {\r\n    if (!preview || !preview.path) return;\r\n    if (preview.image) return setImage(preview.path);\r\n    if (preview.video) return setVideo(preview.path);\r\n  }, [preview]);\r\n  console.log(image);\r\n  return (\r\n    <>\r\n      <Card\r\n        className={classes.root}\r\n        style={image ? { backgroundImage: `url(${image})` } : null}\r\n        {...getRootProps()}\r\n      >\r\n        {video ? <Video src={video}></Video> : null}\r\n        <CardContent>\r\n          <Paper\r\n            className={classes.upload}\r\n            variant=\"outlined\"\r\n            elevation={0}\r\n            color=\"secondary\"\r\n          >\r\n            <Grid\r\n              container\r\n              justify=\"center\"\r\n              alignContent=\"center\"\r\n              style={{ height: '100%' }}\r\n            >\r\n              <input {...getInputProps()} />\r\n              <AwesomeIcon icon=\"cloud-upload-alt\" />\r\n              <Grid container justify=\"center\">\r\n                {isDragActive ? (\r\n                  <Typography align=\"center\">Drop the files here ...</Typography>\r\n                ) : (\r\n                  <Typography align=\"center\">\r\n                    Drag 'n' drop some files here, or click to select files\r\n                  </Typography>\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </CardContent>\r\n        {children}\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Fab,\r\n  InputLabel,\r\n  makeStyles,\r\n  TextField,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { AssetUploader } from 'ui/components/AssetUploader';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport const CreateClient = ({ addClient = () => {} }) => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [facebookName, setFacebookName] = useState('');\r\n  const [file, setFile] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!name || !file || loading || !facebookName) return;\r\n    setLoading(true);\r\n\r\n    const data = new FormData();\r\n    data.append('name', name);\r\n    data.append('facebookName', facebookName);\r\n    data.append('file', file);\r\n    try {\r\n      await addClient(data);\r\n      setLoading(false);\r\n      // reset form\r\n      setName('');\r\n      setFacebookName('');\r\n      setFile(null);\r\n      handleClose();\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"create client\" position=\"bottom\">\r\n        <Fab color=\"primary\" onClick={handleOpen}>\r\n          <AwesomeIcon size=\"lg\" icon=\"plus\" />\r\n        </Fab>\r\n      </Tooltip>\r\n\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aira-labelledby=\"create-client-dialog\"\r\n      >\r\n        <DialogTitle id=\"create-client-dialog\">Create Client</DialogTitle>\r\n        <DialogContent style={{ minWidth: '350px' }}>\r\n          <TextField\r\n            className={classes.input}\r\n            onChange={(e) => setName(e.target.value)}\r\n            value={name}\r\n            autoFocus\r\n            fullWidth\r\n            label=\"name\"\r\n            type=\"text\"\r\n          />\r\n          <TextField\r\n            className={classes.input}\r\n            onChange={(e) => setFacebookName(e.target.value)}\r\n            value={facebookName}\r\n            fullWidth\r\n            label=\"Facebook page title\"\r\n            type=\"text\"\r\n          />\r\n          {/* <TextField\r\n            className={classes.input}\r\n            onChange={(e) => setFacebookName(e.target.value)}\r\n            value={facebookName}\r\n            fullWidth\r\n            label=\"Instagram username\"\r\n            type=\"text\"\r\n          /> */}\r\n          <InputLabel style={{ margin: '16px 0 8px' }}>Profile Picture</InputLabel>\r\n          <AssetUploader setFile={setFile} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button\r\n            startIcon={<AwesomeIcon icon=\"save\" style={{ fontSize: '100%' }} />}\r\n            color=\"primary\"\r\n            disabled={!name || loading}\r\n            onClick={handleSubmit}\r\n          >\r\n            Save\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport {\r\n  Avatar,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n} from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ListItemLink(props) {\r\n  return <ListItem button component={Link} {...props} />;\r\n}\r\n\r\nconst ClientCard = ({ name, profilePicture, slug, length }) => {\r\n  return (\r\n    <>\r\n      <ListItemLink to={`${slug}/posts/fb`}>\r\n        <ListItemAvatar>\r\n          <Avatar alt={name} src={profilePicture}></Avatar>\r\n        </ListItemAvatar>\r\n        <ListItemText primary={name} />\r\n      </ListItemLink>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const ClientList = ({ clients }) => {\r\n  return (\r\n    <List>\r\n      {clients.map((client, i) => (\r\n        <React.Fragment key={client.slug}>\r\n          <ClientCard {...client} />\r\n          {clients.length - 1 === i ? null : <Divider />}\r\n        </React.Fragment>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport const ClientListSkeleton = () => {\r\n  return <div></div>;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FormControl, Input, InputAdornment, InputLabel } from '@material-ui/core';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\n\r\nexport const SearchBar = ({\r\n  setFilteredList = () => {},\r\n  searchProperty = '',\r\n  list = [],\r\n}) => {\r\n  const [value, setValue] = useState('');\r\n  useEffect(() => {\r\n    if (!list) return;\r\n    const filteredList = list.filter(\r\n      (item) =>\r\n        item[searchProperty].toLowerCase().search(value.toLowerCase()) !== -1\r\n    );\r\n    setFilteredList(filteredList);\r\n  }, [value, list, searchProperty, setFilteredList]);\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n  return (\r\n    <FormControl>\r\n      <InputLabel htmlFor=\"search\">search</InputLabel>\r\n      <Input\r\n        type=\"text\"\r\n        id=\"search\"\r\n        onChange={onChange}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <AwesomeIcon icon=\"search\" />\r\n          </InputAdornment>\r\n        }\r\n      />\r\n    </FormControl>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  Container,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Toolbar,\r\n} from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { CreateClient } from './CreateClient';\r\nimport { ClientList } from './ClientList';\r\nimport { postClient, getClients } from 'services';\r\nimport { useQuery, useMutation, useQueryCache } from 'react-query';\r\nimport { SearchBar } from './SearchBar';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst Dashboard = () => {\r\n  const [filtered, setFiltered] = useState(null);\r\n  const cache = useQueryCache();\r\n  const classes = useStyles();\r\n  const { isLoading, data } = useQuery(['clients', {}], getClients);\r\n  const [addClient] = useMutation(postClient, {\r\n    onSuccess: (data) => {\r\n      // const clients = cache.getQueryData('clients');\r\n      // cache.setQueryData('clients', (old) => [...old, data]);\r\n      cache.invalidateQueries('clients');\r\n    },\r\n  });\r\n\r\n  if (isLoading) return null;\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Dashboard</title>\r\n      </Helmet>\r\n      <div className={classes.root}>\r\n        <Container maxWidth=\"lg\">\r\n          <Toolbar>\r\n            <Grid container justify=\"space-between\">\r\n              <SearchBar\r\n                list={data}\r\n                setFilteredList={setFiltered}\r\n                searchProperty=\"name\"\r\n              />\r\n              <CreateClient addClient={addClient} />\r\n            </Grid>\r\n          </Toolbar>\r\n        </Container>\r\n        <Container maxWidth=\"lg\">\r\n          <Box clone mt={2}>\r\n            <Paper>\r\n              {data.length > 0 ? (\r\n                <ClientList clients={filtered ? filtered : data} />\r\n              ) : (\r\n                <div></div>\r\n              )}\r\n            </Paper>\r\n          </Box>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"sourceRoot":""}