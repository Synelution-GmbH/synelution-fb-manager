{"version":3,"sources":["router/Nav/GetNotified.jsx","router/Nav/index.jsx","router/index.js","AuthenticatedApp.jsx","ui/components/Icons/Icon.jsx","ui/components/Icons/custom-icons.jsx","utils.js","services/posts-api.js","services/socket-provider.js","services/client-link-api.js","services/clients-api.js"],"names":["options","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","GetNotified","props","user","useAuth","useState","enabled","setEnabled","useEffect","a","Notification","permission","navigator","serviceWorker","ready","registration","pushManager","getSubscription","handleClick","Promise","resolve","reject","window","requestPermission","then","catch","e","console","log","alert","subscribe","subscription","axios","post","role","Button","onClick","startIcon","icon","useStyles","makeStyles","theme","appBar","type","marginBottom","background","palette","primary","main","transition","extensionLink","chrome","firefox","Nav","logout","dateParams","useRouteMatch","classes","params","AppBar","position","className","Box","p","clone","Grid","container","justify","alignItems","Link","component","RouterLink","to","color","style","marginRight","width","open","InstallTrigger","Avatar","username","slice","toUpperCase","Dashboard","React","lazy","Posts","ClientView","EditClient","MainRouter","fallback","path","exact","Component","AuthenticatedApp","library","add","faRedo","iconName","prefix","faEye","faEyeSlash","faTimesCircle","faTimes","faSmile","faInstagram","faFacebook","faCopy","faClipboardCheck","faPlus","faCloudUploadAlt","faSearch","faSave","faTrashAlt","faPlay","faPause","faBell","faBellSlash","faCheckCircle","faLink","faGlobeAmericas","faPen","faImage","faDownload","AwesomeIcon","defaultProps","require","base64String","base64","repeat","length","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","isIE","ua","userAgent","indexOf","IE","getErrorText","error","setQueryFocusHandler","queryFocus","timeout","handleFocus","dontRefetch","localStorage","getItem","clearTimeout","setTimeout","removeItem","checkRefetch","handleVisibilityChange","document","visibilityState","addEventListener","removeEventListener","mapToObject","array","fnc","key","obj","item","useObjectFitPolyfill","objectFitPolyfill","getPosts","client","from","get","data","createPost","args","deletePost","id","delete","putPost","put","deleteAsset","assetId","socket","io","SocketContext","createContext","useSocket","useContext","SocketProvider","Provider","value","postClientLink","getLinkById","checkCode","code","postClient","headers","putClient","slug","getClient","getClients","deleteClient","postCode","deleteCode","putCode"],"mappings":"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","file":"static/js/15.f7c0e1b7.chunk.js","sourcesContent":["import { Button } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useAuth } from 'services';\r\nimport { urlBase64ToUint8Array } from 'utils';\r\nimport axios from 'axios';\r\nimport { AwesomeIcon } from 'ui/components/Icons/Icon';\r\n\r\nconst options = {\r\n  userVisibleOnly: true,\r\n  applicationServerKey: urlBase64ToUint8Array(\r\n    'BODI-sL_suVRxxD-ek-DvGQ2yBNTa1pyKpdxpc2jrk_g1C3BJhhn56gNYRPkSKdx1E0k354xlu-v_29PnVEeGKU'\r\n  ),\r\n};\r\nconst requestPermission = () =>\r\n  new Promise((resolve, reject) => {\r\n    // Let's check if the browser supports notifications\r\n    if (!('Notification' in window)) {\r\n      alert('This browser does not support desktop notification');\r\n    }\r\n\r\n    // Let's check whether notification permissions have already been granted\r\n    else if (Notification.permission === 'granted') {\r\n      resolve('granted');\r\n    }\r\n\r\n    // Otherwise, we need to ask the user for permission\r\n    else {\r\n      Notification.requestPermission()\r\n        .then(function (permission) {\r\n          // If the user accepts, let's create a notification\r\n          if (permission === 'granted') {\r\n            new Notification('Thanks you will be notified!');\r\n            resolve('granted');\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          reject('denied');\r\n        });\r\n    }\r\n\r\n    // At last, if the user has denied notifications, and you\r\n    // want to be respectful there is no need to bother them any more.\r\n  });\r\n\r\nexport const GetNotified = (props) => {\r\n  const { user } = useAuth();\r\n  const [enabled, setEnabled] = useState();\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      if (Notification.permission !== 'granted') return;\r\n      const registration = await navigator.serviceWorker.ready;\r\n      const subscription = await registration.pushManager.getSubscription();\r\n      if (subscription) return setEnabled(true);\r\n    })();\r\n  }, []);\r\n  const handleClick = async () => {\r\n    try {\r\n      await requestPermission();\r\n      const registration = await navigator.serviceWorker.ready;\r\n      console.log('registering push');\r\n      const subscription = await registration.pushManager.subscribe(options);\r\n      console.log('Registered push');\r\n      axios.post('/subscription', subscription);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  return user.role === 'proofreader' ? (\r\n    <Button\r\n      {...props}\r\n      onClick={handleClick}\r\n      startIcon={<AwesomeIcon icon={enabled ? 'bell' : 'bell-slash'} />}\r\n    >\r\n      {enabled ? 'notifications enabled' : 'enable notifications'}\r\n    </Button>\r\n  ) : null;\r\n};\r\n","import React from 'react';\r\nimport {\r\n  AppBar,\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  Link,\r\n  makeStyles,\r\n} from '@material-ui/core';\r\nimport { useAuth } from 'services/auth-provider';\r\nimport { Link as RouterLink, useRouteMatch } from 'react-router-dom';\r\nimport { GetNotified } from './GetNotified';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: ({ type }) => ({\r\n    marginBottom: '1rem',\r\n    background: type ? theme.palette[type] : theme.palette.primary.main,\r\n    transition: '0.3s',\r\n  }),\r\n}));\r\n\r\nconst extensionLink = {\r\n  chrome:\r\n    'https://chrome.google.com/webstore/detail/grammar-and-spell-checker/oldceeleldhonbafppcapldpdifcinji',\r\n  firefox:\r\n    'https://addons.mozilla.org/en-GB/firefox/addon/languagetool/?utm_source=external-ltp-homepage',\r\n};\r\n\r\nconst getBrowser = () => {\r\n  var isFirefox = typeof InstallTrigger !== 'undefined';\r\n  if (isFirefox) return 'firefox';\r\n  return 'chrome';\r\n};\r\nexport const Nav = () => {\r\n  const { logout, user } = useAuth();\r\n  let dateParams = useRouteMatch('/:client/posts/:type');\r\n\r\n  const classes = useStyles({ type: dateParams && dateParams.params.type });\r\n  return (\r\n    <AppBar position=\"static\" className={classes.appBar}>\r\n      <Box p={1} clone>\r\n        <Grid container justify=\"space-between\" alignItems=\"center\">\r\n          <div>\r\n            <Link\r\n              component={RouterLink}\r\n              to=\"/\"\r\n              color=\"inherit\"\r\n              style={{ marginRight: '8px' }}\r\n            >\r\n              Dashboard\r\n            </Link>\r\n          </div>\r\n          <Grid container style={{ width: 'auto' }} justify=\"flex-end\">\r\n            <GetNotified color=\"inherit\" />\r\n            <Button\r\n              onClick={() => window.open(extensionLink[getBrowser()], '_blank')}\r\n              color=\"inherit\"\r\n            >\r\n              Install Spellchecker\r\n            </Button>\r\n            <Button onClick={logout} color=\"inherit\">\r\n              Logout\r\n            </Button>\r\n            <Avatar>{user.username.slice(0, 1).toUpperCase()}</Avatar>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </AppBar>\r\n  );\r\n};\r\n","import React, { Component, Suspense } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport { Nav } from './Nav';\r\n// import { Footer } from './Footer';\r\n\r\nconst Dashboard = React.lazy(() => import('../pages/Dashboard'));\r\nconst Posts = React.lazy(() => import('../pages/Posts'));\r\nconst ClientView = React.lazy(() => import('pages/ClientView'));\r\nconst EditClient = React.lazy(() => import('pages/EditClient'));\r\n\r\nexport default class MainRouter extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Nav />\r\n\r\n        <Suspense fallback={null}>\r\n          <div className=\"main-content\">\r\n            <Switch>\r\n              <Route path=\"/:client/posts/:type\" component={Posts} />\r\n              <Route path=\"/client/:slug\" component={EditClient} />\r\n              {/* /from/:from/to/:to */}\r\n              <Route exact path=\"/preview/:id\" component={ClientView} />\r\n              <Route exact path=\"/\" component={Dashboard} />\r\n            </Switch>\r\n            {/* <Footer /> */}\r\n          </div>\r\n        </Suspense>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { SocketProvider } from 'services/socket-provider';\r\nimport MainRouter from './router';\r\n\r\nconst AuthenticatedApp = () => {\r\n  return (\r\n    <SocketProvider>\r\n      <MainRouter />\r\n    </SocketProvider>\r\n  );\r\n};\r\nexport default AuthenticatedApp;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport {\r\n  faEye,\r\n  faEyeSlash,\r\n  faTimesCircle,\r\n  faTimes,\r\n  faSmile,\r\n  faCopy,\r\n  faClipboardCheck,\r\n  faPlus,\r\n  faCloudUploadAlt,\r\n  faSearch,\r\n  faSave,\r\n  faTrashAlt,\r\n  faPlay,\r\n  faPause,\r\n  faBell,\r\n  faBellSlash,\r\n  faCheckCircle,\r\n  faLink,\r\n  faGlobeAmericas,\r\n  faPen,\r\n  faImage,\r\n  faRedo,\r\n  faDownload,\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport { faInstagram, faFacebook } from '@fortawesome/free-brands-svg-icons';\r\nimport {\r\n  faChevronRight,\r\n  faChevronLeft,\r\n  igLike,\r\n  igComment,\r\n  igShare,\r\n  igSave,\r\n  faPreview,\r\n} from './custom-icons';\r\n\r\nlibrary.add(\r\n  faRedo,\r\n  faPreview,\r\n  faEye,\r\n  faEyeSlash,\r\n  faTimesCircle,\r\n  faTimes,\r\n  faSmile,\r\n  faInstagram,\r\n  faFacebook,\r\n  faCopy,\r\n  faClipboardCheck,\r\n  faPlus,\r\n  faCloudUploadAlt,\r\n  faSearch,\r\n  faSave,\r\n  faTrashAlt,\r\n  faPlay,\r\n  faPause,\r\n  faBell,\r\n  faBellSlash,\r\n  faCheckCircle,\r\n  faChevronRight,\r\n  faChevronLeft,\r\n  faLink,\r\n  faGlobeAmericas,\r\n  faPen,\r\n  faImage,\r\n  igLike,\r\n  igComment,\r\n  igShare,\r\n  faDownload,\r\n  igSave\r\n);\r\n\r\nexport const AwesomeIcon = ({ ...props }) => {\r\n  return <FontAwesomeIcon {...props} icon={[props.prefix, props.icon]} />;\r\n};\r\n\r\nAwesomeIcon.propTypes = {\r\n  icon: PropTypes.string.isRequired,\r\n  prefix: PropTypes.string,\r\n};\r\n\r\nAwesomeIcon.defaultProps = {\r\n  prefix: 'fas',\r\n};\r\n","export const faChevronRight = {\r\n  icon: [\r\n    256,\r\n    512,\r\n    [],\r\n    'f054',\r\n    'M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z',\r\n  ],\r\n  iconName: 'chevron-right',\r\n  prefix: 'fas',\r\n};\r\nexport const faChevronLeft = {\r\n  icon: [\r\n    256,\r\n    512,\r\n    [],\r\n    'f053',\r\n    'M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z',\r\n  ],\r\n  iconName: 'chevron-left',\r\n  prefix: 'fas',\r\n};\r\n\r\nexport const igLike = {\r\n  icon: [\r\n    48,\r\n    48,\r\n    [],\r\n    'ig01',\r\n    'M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z',\r\n  ],\r\n  iconName: 'like',\r\n  prefix: 'ig',\r\n};\r\nexport const igComment = {\r\n  icon: [\r\n    48,\r\n    48,\r\n    [],\r\n    'ig02',\r\n    'M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z',\r\n  ],\r\n  iconName: 'comment',\r\n  prefix: 'ig',\r\n};\r\nexport const igShare = {\r\n  icon: [\r\n    48,\r\n    48,\r\n    [],\r\n    'ig03',\r\n    'M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z',\r\n  ],\r\n  iconName: 'share',\r\n  prefix: 'ig',\r\n};\r\nexport const igSave = {\r\n  icon: [\r\n    48,\r\n    48,\r\n    [],\r\n    'ig04',\r\n    'M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z',\r\n  ],\r\n  iconName: 'save',\r\n  prefix: 'ig',\r\n};\r\nexport const faPreview = {\r\n  icon: [\r\n    480.6,\r\n    480.6,\r\n    [],\r\n    'fa40',\r\n    'M85.3,192.5h200v30h-200V192.5z M439.1,480.6l21.2-21.2L389,388c12.5-16.9,19.9-37.8,19.9-60.4c0-40.7-24-75.8-58.6-92V108.8L241.5,0H20.3v445h330v-25.3c6.2-2.9,12-6.4,17.5-10.4L439.1,480.6z M250.3,51.2l48.8,48.8h-48.8L250.3,51.2L250.3,51.2zM50.3,30h170v100h100v97c-4.2-0.5-8.5-0.8-12.9-0.8c-31.2,0-59.1,14.1-77.8,36.4H85.3v30h126.9c-4.1,11-6.3,22.8-6.3,35.2c0,1.6,0,3.2,0.1,4.8H85.3v30H212c8.1,22.1,23.7,40.6,43.6,52.5H50.3V30z M307.4,399.2c-39.4,0-71.5-32.1-71.5-71.5s32.1-71.5,71.5-71.5s71.5,32.1,71.5,71.5S346.8,399.2,307.4,399.2z',\r\n  ],\r\n  iconName: 'preview',\r\n  prefix: 'fas',\r\n};\r\n","const { useEffect } = require('react');\r\n\r\nexport function urlBase64ToUint8Array(base64String) {\r\n  const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\r\n  const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\nexport const isIE = () => {\r\n  var ua = navigator.userAgent;\r\n  /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n  var is_ie = ua.indexOf('MSIE ') > -1 || ua.indexOf('Trident/') > -1;\r\n  return is_ie;\r\n};\r\nexport const IE = isIE();\r\n\r\nexport const getErrorText = (error) => {\r\n  switch (error) {\r\n    case 'invalidDate':\r\n      return 'Invalid Date';\r\n    case 'minDate':\r\n    case 'maxDate':\r\n      return 'Date not in current range';\r\n\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nexport const setQueryFocusHandler = (queryFocus) => {\r\n  let timeout;\r\n  const checkRefetch = () => {\r\n    // const userLeftTab = window.localStorage.getItem('userLeftTab') || 0;\r\n    // return parseInt(userLeftTab) + 1000 * 5 <= Date.now();\r\n    const dontRefetch = window.localStorage.getItem('dont-refetch');\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => {\r\n      window.localStorage.removeItem('dont-refetch');\r\n    }, 1000);\r\n    return !dontRefetch;\r\n  };\r\n  const handleFocus = (e) => {\r\n    // console.log('focus');\r\n    if (checkRefetch()) {\r\n      // console.log('its okay to refetch');\r\n      queryFocus(e);\r\n    } else {\r\n      console.log('god no dont do it');\r\n    }\r\n  };\r\n\r\n  // const handleBlur = function () {\r\n  //   console.log('blur');\r\n  //   window.localStorage.setItem('userLeftTab', Date.now());\r\n  // };\r\n\r\n  const handleVisibilityChange = function (e) {\r\n    console.log('visible');\r\n    if (document.visibilityState === 'visible') {\r\n      handleFocus(e);\r\n    }\r\n  };\r\n\r\n  if (typeof window !== 'undefined' && window.addEventListener) {\r\n    // window.addEventListener('blur', handleBlur);\r\n    window.addEventListener('focus', handleFocus, false);\r\n    window.addEventListener('visibilitychange', handleVisibilityChange, false);\r\n  }\r\n\r\n  return () => {\r\n    // window.removeEventListener('blur', handleBlur);\r\n    clearTimeout(timeout);\r\n    window.removeEventListener('focus', handleFocus);\r\n    window.removeEventListener('visibilitychange', handleVisibilityChange);\r\n  };\r\n};\r\n\r\nexport const mapToObject = (array, fnc, key) => {\r\n  const obj = {};\r\n  for (const item of array) {\r\n    obj[item[key]] = fnc(item);\r\n  }\r\n\r\n  return obj;\r\n};\r\n\r\nexport const useObjectFitPolyfill = () => {\r\n  useEffect(() => {\r\n    console.log(window.objectFitPolyfill);\r\n    if (!window.objectFitPolyfill) return;\r\n    window.objectFitPolyfill();\r\n    setTimeout(() => {\r\n      window.objectFitPolyfill();\r\n    }, 600);\r\n  }, []);\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const getPosts = (key, { client, type, from, to }) =>\r\n  axios.get(`/posts/${client}/${type}/${from}/${to}/`).then(({ data }) => data);\r\n\r\nexport const createPost = ({ client, ...args }) =>\r\n  axios.post(`/posts/${client}`, { ...args }).then(({ data }) => data);\r\n\r\nexport const deletePost = (id) =>\r\n  axios.delete(`/posts/${id}`).then(({ data }) => data);\r\n\r\nexport const putPost = ({ id, data }) =>\r\n  axios.put(`/posts/${id}`, data).then(({ data }) => data);\r\n\r\nexport const deleteAsset = ({ id, assetId }) =>\r\n  axios.delete(`/posts/${id}/${assetId}`).then(({ data }) => data);\r\n","import React, { createContext, useContext } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nvar socket = io();\r\nconst SocketContext = createContext(socket);\r\nexport const useSocket = () => useContext(SocketContext);\r\n\r\nexport const SocketProvider = (props) => {\r\n  return (\r\n    <>\r\n      <SocketContext.Provider value={socket} {...props} />\r\n    </>\r\n  );\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const postClientLink = (data) =>\r\n  axios.post(`/client-link`, data).then(({ data }) => data);\r\nexport const getLinkById = (id) =>\r\n  axios.get(`/client-link/${id}`).then(({ data }) => data);\r\nexport const checkCode = ({ code, id }) =>\r\n  axios.get(`/client-link/${id}/${code}`).then(({ data }) => data);\r\n","import axios from 'axios';\r\n\r\nexport const postClient = (data) =>\r\n  axios\r\n    .post('/clients', data, {\r\n      headers: { 'content-type': 'multipart/form-data' },\r\n    })\r\n    .then(({ data }) => data);\r\nexport const putClient = ({ slug, data }) =>\r\n  axios.put(`/clients/${slug}`, data).then(({ data }) => data);\r\nexport const getClient = ({ slug }) =>\r\n  axios.get(`/clients/${slug}`).then(({ data }) => data);\r\nexport const getClients = () => axios.get('/clients').then(({ data }) => data);\r\nexport const deleteClient = ({ slug }) =>\r\n  axios.delete(`/clients/${slug}`).then(({ data }) => data);\r\n\r\nexport const postCode = ({ slug, data }) =>\r\n  axios.post(`/clients/${slug}/code`, data).then(({ data }) => data);\r\nexport const deleteCode = ({ slug, code }) =>\r\n  axios.delete(`/clients/${slug}/${code}`).then(({ data }) => data);\r\nexport const putCode = ({ slug, code, data }) =>\r\n  axios.put(`/clients/${slug}/${code}`, data).then(({ data }) => data);\r\n"],"sourceRoot":""}